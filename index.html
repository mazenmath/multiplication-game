<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ® Ù…ØºØ§Ù…Ø±Ø© Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¶Ø±Ø¨ Ø§Ù„Ø³Ø­Ø±ÙŠØ© | Magic Multiplication Adventure</title>
    <link href="https://fonts.googleapis.com/css2?family=Lalezar&family=Changa:wght@400;600;800&family=Fredoka:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #FF6B9D;
            --secondary: #C44569;
            --accent: #FFA502;
            --success: #26de81;
            --info: #4b7bec;
            --bg-dark: #1e272e;
            --bg-light: #2f3640;
            --text: #ffffff;
            --shadow: rgba(0,0,0,0.3);
        }

        body {
            font-family: 'Changa', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: var(--text);
            overflow-x: hidden;
        }

        /* ==================== FLOATING PARTICLES ==================== */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .particle {
            position: absolute;
            font-size: 2rem;
            opacity: 0.3;
            animation: float-particle 10s infinite ease-in-out;
        }

        @keyframes float-particle {
            0%, 100% { 
                transform: translateY(0) translateX(0) rotate(0deg);
                opacity: 0.3;
            }
            50% { 
                transform: translateY(-100px) translateX(50px) rotate(180deg);
                opacity: 0.6;
            }
        }

        /* ==================== LOGIN SCREEN ==================== */
        .login-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: opacity 0.5s, visibility 0.5s;
        }

        .login-screen.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        .login-container {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 30px;
            padding: 50px;
            max-width: 450px;
            width: 90%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
            animation: slideInUp 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        @keyframes slideInUp {
            from { transform: translateY(100px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .login-title {
            font-family: 'Lalezar', cursive;
            font-size: 3rem;
            text-align: center;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #FFA502, #FF6B9D);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .login-subtitle {
            text-align: center;
            font-size: 1.1rem;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 1.1rem;
        }

        .input-field {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            color: white;
            font-size: 1rem;
            font-family: 'Changa', sans-serif;
            transition: all 0.3s;
        }

        .input-field:focus {
            outline: none;
            border-color: var(--accent);
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.02);
        }

        .input-field::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .btn-primary {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, var(--accent), var(--primary));
            border: none;
            border-radius: 15px;
            color: white;
            font-size: 1.3rem;
            font-weight: 800;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Changa', sans-serif;
            box-shadow: 0 10px 30px rgba(255, 107, 157, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(255, 107, 157, 0.6);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        .toggle-auth {
            text-align: center;
            margin-top: 20px;
            cursor: pointer;
            color: var(--accent);
            font-weight: 600;
            transition: all 0.3s;
        }

        .toggle-auth:hover {
            color: white;
            text-decoration: underline;
        }

        .error-message {
            background: rgba(255, 59, 48, 0.2);
            border: 2px solid rgba(255, 59, 48, 0.5);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 600;
            display: none;
            animation: shake 0.5s;
        }

        .error-message.show {
            display: block;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        /* ==================== MAIN APP ==================== */
        .main-app {
            display: none;
            position: relative;
            z-index: 1;
        }

        .main-app.active {
            display: block;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* ==================== HEADER ==================== */
        .header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            padding: 20px 30px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent), var(--primary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            border: 3px solid white;
        }

        .user-details h2 {
            font-family: 'Lalezar', cursive;
            font-size: 1.8rem;
            margin-bottom: 5px;
        }

        .user-stats {
            display: flex;
            gap: 20px;
            font-size: 1.1rem;
        }

        .stat {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .logout-btn {
            padding: 12px 25px;
            background: rgba(255, 59, 48, 0.8);
            border: none;
            border-radius: 15px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Changa', sans-serif;
        }

        .logout-btn:hover {
            background: rgba(255, 59, 48, 1);
            transform: scale(1.05);
        }

        /* ==================== MENU SCREEN ==================== */
        .menu-screen {
            display: none;
        }

        .menu-screen.active {
            display: block;
        }

        .menu-title {
            font-family: 'Lalezar', cursive;
            font-size: 3.5rem;
            text-align: center;
            margin-bottom: 20px;
            text-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .menu-subtitle {
            text-align: center;
            font-size: 1.3rem;
            margin-bottom: 40px;
            opacity: 0.9;
        }

        .tables-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .table-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(15px);
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .table-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.4);
            border-color: var(--accent);
        }

        .table-card.locked {
            opacity: 0.5;
            cursor: not-allowed;
            filter: grayscale(0.8);
        }

        .table-card.locked:hover {
            transform: none;
        }

        .table-number {
            font-family: 'Lalezar', cursive;
            font-size: 4rem;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #FFA502, #FF6B9D);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .table-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .table-subtitle {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .lock-icon {
            position: absolute;
            top: 10px;
            left: 10px;
            font-size: 2rem;
        }

        .action-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 30px;
        }

        .action-btn {
            padding: 20px 40px;
            background: linear-gradient(135deg, var(--info), var(--primary));
            border: none;
            border-radius: 20px;
            color: white;
            font-size: 1.5rem;
            font-weight: 800;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Changa', sans-serif;
            box-shadow: 0 10px 30px rgba(75, 123, 236, 0.4);
        }

        .action-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(75, 123, 236, 0.6);
        }

        /* ==================== LEARNING SCREEN ==================== */
        .learning-screen, .quiz-screen {
            display: none;
        }

        .learning-screen.active, .quiz-screen.active {
            display: block;
        }

        .back-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 30px;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 15px;
            color: white;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            z-index: 100;
            font-family: 'Changa', sans-serif;
        }

        .back-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }

        .learning-container {
            max-width: 1200px;
            margin: 80px auto 40px;
            padding: 20px;
        }

        .section {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(15px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 25px;
            padding: 40px;
            margin-bottom: 30px;
            animation: fadeInUp 0.6s;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section-title {
            font-family: 'Lalezar', cursive;
            font-size: 2.5rem;
            margin-bottom: 20px;
            text-align: center;
            background: linear-gradient(45deg, #FFA502, #FF6B9D);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .story-box {
            background: linear-gradient(135deg, rgba(255, 165, 2, 0.2), rgba(255, 107, 157, 0.2));
            border: 3px solid rgba(255, 255, 255, 0.4);
            border-radius: 20px;
            padding: 40px;
            font-size: 1.4rem;
            line-height: 2.2;
            text-align: center;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .story-highlight {
            font-size: 1.6rem;
            font-weight: 800;
            color: var(--accent);
            text-shadow: 0 2px 10px rgba(255, 165, 2, 0.5);
        }

        .visual-example {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .example-group {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s;
        }

        .example-group:hover {
            transform: scale(1.05);
            background: rgba(255, 255, 255, 0.2);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .example-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--accent);
        }

        .emoji-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(40px, 1fr));
            gap: 10px;
            margin: 20px 0;
        }

        .emoji-item {
            font-size: 2.5rem;
            text-align: center;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .equation {
            font-family: 'Fredoka', sans-serif;
            font-size: 2.2rem;
            text-align: center;
            margin: 20px 0;
            font-weight: 700;
            background: linear-gradient(45deg, #4b7bec, #26de81);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .practice-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .practice-item {
            background: linear-gradient(135deg, rgba(75, 123, 236, 0.3), rgba(38, 222, 129, 0.3));
            border: 2px solid rgba(255, 255, 255, 0.4);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            font-size: 1.6rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
        }

        .practice-item:hover {
            background: linear-gradient(135deg, rgba(75, 123, 236, 0.5), rgba(38, 222, 129, 0.5));
            transform: scale(1.1) rotate(2deg);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
        }

        .tips-list {
            list-style: none;
            padding: 0;
        }

        .tips-list li {
            background: rgba(255, 255, 255, 0.1);
            border-right: 5px solid var(--accent);
            border-radius: 10px;
            padding: 20px 25px;
            margin: 15px 0;
            font-size: 1.3rem;
            transition: all 0.3s;
        }

        .tips-list li:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(-10px);
            border-right-width: 10px;
        }

        .song-box {
            background: linear-gradient(135deg, rgba(255, 107, 157, 0.3), rgba(196, 69, 105, 0.3));
            border: 3px solid rgba(255, 255, 255, 0.4);
            border-radius: 20px;
            padding: 35px;
            margin: 30px 0;
            text-align: center;
        }

        .song-title {
            font-family: 'Lalezar', cursive;
            font-size: 2rem;
            margin-bottom: 20px;
            color: var(--accent);
        }

        .song-lyrics {
            font-size: 1.4rem;
            line-height: 2;
            font-weight: 600;
            white-space: pre-line;
        }

        .play-song-btn {
            width: 100%;
            padding: 20px;
            background: linear-gradient(135deg, #FF6B9D, #FFA502);
            border: none;
            border-radius: 15px;
            color: white;
            font-size: 1.5rem;
            font-weight: 800;
            cursor: pointer;
            font-family: 'Changa', sans-serif;
            margin: 20px 0;
            box-shadow: 0 10px 30px rgba(255, 107, 157, 0.4);
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .play-song-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(255, 107, 157, 0.6);
        }

        .play-song-btn.playing {
            background: linear-gradient(135deg, #26de81, #20bf6b);
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .lyrics-container {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            max-height: 400px;
            overflow-y: auto;
            margin-top: 15px;
            display: none;
        }

        .lyrics-container.show {
            display: block;
            animation: slideDown 0.5s ease-out;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .lyrics-verse {
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border-right: 4px solid var(--accent);
        }

        .lyrics-verse-title {
            font-size: 1.2rem;
            font-weight: 800;
            color: var(--accent);
            margin-bottom: 10px;
        }

        .lyrics-line {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 5px;
        }

        .lyrics-container::-webkit-scrollbar {
            width: 8px;
        }

        .lyrics-container::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        .lyrics-container::-webkit-scrollbar-thumb {
            background: var(--accent);
            border-radius: 10px;
        }

        .interactive-box {
            background: linear-gradient(135deg, rgba(38, 222, 129, 0.2), rgba(75, 123, 236, 0.2));
            border: 3px dashed rgba(255, 255, 255, 0.5);
            border-radius: 20px;
            padding: 35px;
            margin: 30px 0;
            text-align: center;
        }

        .interactive-title {
            font-size: 1.8rem;
            font-weight: 800;
            margin-bottom: 20px;
            color: var(--success);
        }

        /* ==================== QUIZ SCREEN ==================== */
        .quiz-container {
            max-width: 800px;
            margin: 80px auto 40px;
            padding: 20px;
        }

        .quiz-header {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(15px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .quiz-progress {
            font-size: 1.5rem;
            font-weight: 600;
        }

        .quiz-stars {
            font-size: 2rem;
        }

        .question-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(15px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 25px;
            padding: 50px;
            text-align: center;
            animation: fadeInUp 0.6s;
        }

        .question-text {
            font-family: 'Lalezar', cursive;
            font-size: 3.5rem;
            margin-bottom: 40px;
        }

        .answers-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .answer-btn {
            padding: 30px;
            background: rgba(255, 255, 255, 0.1);
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            color: white;
            font-size: 2rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Fredoka', sans-serif;
        }

        .answer-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.05);
        }

        .answer-btn.correct {
            background: rgba(38, 222, 129, 0.3);
            border-color: var(--success);
            animation: pulse 0.5s;
        }

        .answer-btn.wrong {
            background: rgba(255, 59, 48, 0.3);
            border-color: #ff3b30;
            animation: shake 0.5s;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .feedback {
            font-size: 2rem;
            font-weight: 700;
            margin-top: 20px;
            min-height: 50px;
        }

        /* ==================== MODALS ==================== */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }

        .modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: 3px solid rgba(255, 255, 255, 0.5);
            border-radius: 30px;
            padding: 50px;
            max-width: 600px;
            width: 90%;
            text-align: center;
            animation: scaleIn 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        @keyframes scaleIn {
            from { transform: scale(0.5); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .modal-title {
            font-family: 'Lalezar', cursive;
            font-size: 3rem;
            margin-bottom: 20px;
        }

        .modal-message {
            font-size: 1.5rem;
            line-height: 1.8;
            margin-bottom: 30px;
        }

        .modal-btn {
            padding: 18px 40px;
            background: linear-gradient(135deg, var(--accent), var(--primary));
            border: none;
            border-radius: 15px;
            color: white;
            font-size: 1.3rem;
            font-weight: 800;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Changa', sans-serif;
            box-shadow: 0 10px 30px rgba(255, 107, 157, 0.4);
        }

        .modal-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(255, 107, 157, 0.6);
        }

        /* ==================== LEADERBOARD ==================== */
        .leaderboard-list {
            max-height: 500px;
            overflow-y: auto;
            padding: 20px;
        }

        .leaderboard-item {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 20px;
            transition: all 0.3s;
        }

        .leaderboard-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(-10px);
        }

        .rank-badge {
            font-size: 2rem;
            font-weight: 700;
            min-width: 60px;
            text-align: center;
        }

        .player-info {
            flex: 1;
        }

        .player-name {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .player-email {
            font-size: 0.9rem;
            opacity: 0.7;
        }

        .player-score {
            text-align: left;
        }

        .score-stars {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .score-level {
            font-size: 1rem;
            opacity: 0.8;
        }

        /* ==================== MUSIC CONTROL ==================== */
        .music-control {
            position: fixed;
            bottom: 30px;
            left: 30px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(15px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 15px 25px;
            cursor: pointer;
            transition: all 0.3s;
            z-index: 100;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .music-control:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: scale(1.05);
        }

        .music-icon {
            font-size: 1.5rem;
        }

        .music-label {
            font-weight: 600;
            font-size: 1rem;
        }

 /* ===== Mazen Branding (UNIQUE - STATIC FOOTER) ===== */
.mazen-brand-footer {
    margin-top: 40px;
    padding: 16px 10px;
    background: rgba(0, 0, 0, 0.6);
    border-top: 1px solid rgba(255,255,255,0.2);
    font-size: 14px;
    text-align: center;
    line-height: 1.7;
}

.mazen-brand-footer a {
    color: #00e5ff;
    text-decoration: none;
    font-weight: bold;
}

.mazen-brand-footer a:hover {
    text-decoration: underline;
}



        /* ==================== RESPONSIVE ==================== */
        @media (max-width: 768px) {
            .login-container {
                padding: 30px;
            }

            .login-title {
                font-size: 2rem;
            }

            .header {
                flex-direction: column;
                text-align: center;
            }

            .menu-title {
                font-size: 2.5rem;
            }

            .tables-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }

            .action-buttons {
                flex-direction: column;
            }

            .question-text {
                font-size: 2.5rem;
            }

            .answers-grid {
                grid-template-columns: 1fr;
            }

            .back-btn {
                top: 10px;
                right: 10px;
                padding: 10px 20px;
                font-size: 1rem;
            }

            .section {
                padding: 20px;
            }

            .section-title {
                font-size: 2rem;
            }

            .story-box {
                padding: 25px;
                font-size: 1.2rem;
            }

            .visual-example {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<!-- ===== Mazen Unique Branding ===== -->
<div class="mazen-brand-footer">
    ğŸ“˜ <strong>Math with Mazen</strong><br>
    ğŸ‘¨â€ğŸ« Created by Mazen<br>
    ğŸ“± <a href="https://wa.me/201063444558" target="_blank">
        WhatsApp: 01063444558
    </a>
</div>

<body>
    <!-- Particles Container -->
    <div class="particles" id="particlesContainer"></div>

    <!-- Login Screen -->
    <div class="login-screen" id="loginScreen">
        <div class="login-container">
            <h1 class="login-title">ğŸ® Ù…ØºØ§Ù…Ø±Ø© Ø§Ù„Ø¶Ø±Ø¨</h1>
            <p class="login-subtitle">Start Your Magical Journey! ğŸš€</p>
            
            <div class="error-message" id="authError"></div>
            
            <form id="authForm" onsubmit="handleAuth(event)">
                <div class="input-group" id="nameGroup" style="display: none;">
                    <label class="input-label">Ø§Ù„Ø§Ø³Ù… | Name</label>
                    <input type="text" class="input-field" id="nameInput" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ">
                </div>
                
                <div class="input-group">
                    <label class="input-label">Ø§Ù„Ø¨Ø±ÙŠØ¯ | Email</label>
                    <input type="email" class="input-field" id="emailInput" placeholder="email@example.com" required>
                </div>
                
                <div class="input-group">
                    <label class="input-label">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± | Password</label>
                    <input type="password" class="input-field" id="passwordInput" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
                </div>
                
                <button type="submit" class="btn-primary" id="authButton">Ø¯Ø®ÙˆÙ„ | Login</button>
            </form>
            
            <p class="toggle-auth" onclick="toggleAuthMode()">
                <span id="toggleText">Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ Ø³Ø¬Ù‘Ù„ Ø§Ù„Ø¢Ù†!</span>
            </p>
        </div>
    </div>

    <!-- Main App -->
    <div class="main-app" id="mainApp">
        <!-- Header -->
        <div class="header">
            <div class="user-info">
                <div class="user-avatar" id="userAvatar">ğŸ‘¤</div>
                <div class="user-details">
                    <h2 id="userName">Player</h2>
                    <div class="user-stats">
                        <div class="stat">â­ <span id="headerStars">0</span></div>
                        <div class="stat">ğŸ¯ Level <span id="headerLevel">1</span></div>
                    </div>
                </div>
            </div>
            <button class="logout-btn" onclick="logout()">Ø®Ø±ÙˆØ¬ | Logout</button>
        </div>

        <!-- Menu Screen -->
        <div class="menu-screen active" id="menuScreen">
            <div class="container">
                <h1 class="menu-title">ğŸ® Ø§Ø®ØªØ± Ù…ØºØ§Ù…Ø±ØªÙƒ | Choose Your Adventure</h1>
                <p class="menu-subtitle">Pick a Multiplication Table</p>
                
                <div class="tables-grid" id="tablesGrid"></div>
                
                <div class="action-buttons">
                    <button class="action-btn" onclick="showLeaderboard()">
                        ğŸ† Ø§Ù„Ù…ØªØµØ¯Ø±ÙˆÙ† | Leaderboard
                    </button>
                </div>
            </div>
        </div>

        <!-- Learning Screen -->
        <div class="learning-screen" id="learningScreen">
            <button class="back-btn" onclick="backToMenu()">â† Ø±Ø¬ÙˆØ¹ | Back</button>
            <div class="learning-container" id="learningContent"></div>
        </div>

        <!-- Quiz Screen -->
        <div class="quiz-screen" id="quizScreen">
            <button class="back-btn" onclick="backToMenu()">â† Ø±Ø¬ÙˆØ¹ | Back</button>
            <div class="quiz-container">
                <div class="quiz-header">
                    <div class="quiz-progress">
                        Question <span id="currentQuestion">1</span> / <span id="totalQuestions">10</span>
                    </div>
                    <div class="quiz-stars" id="quizStarsDisplay">â­ 0</div>
                </div>
                
                <div class="question-card">
                    <div class="question-text" id="questionText"></div>
                    <div class="answers-grid" id="answersGrid"></div>
                    <div class="feedback" id="feedback"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Celebration Modal -->
    <div class="modal" id="celebrationModal">
        <div class="modal-content">
            <div class="modal-title">ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ | Congrats!</div>
            <div class="modal-message" id="celebrationMessage"></div>
            <button class="modal-btn" onclick="closeCelebration()">Ø±Ø§Ø¦Ø¹ | Great!</button>
        </div>
    </div>

    <!-- Leaderboard Modal -->
    <div class="modal" id="leaderboardModal">
        <div class="modal-content">
            <div class="modal-title">ğŸ† Top Players</div>
            <div class="leaderboard-list" id="leaderboardList">
                <p id="leaderboardLoading" style="text-align: center;">Loading...</p>
            </div>
            <button class="modal-btn" onclick="closeLeaderboard()">Ø¥ØºÙ„Ø§Ù‚ | Close</button>
        </div>
    </div>

    <script>
        // ==================== FIREBASE CONFIG ====================
        const firebaseConfig = {
            apiKey: "AIzaSyDqMJOrcZDJQWgXHpTisaTBGserx_Ewp8Y",
            authDomain: "multiplication-adventure-eee71.firebaseapp.com",
            databaseURL: "https://multiplication-adventure-eee71-default-rtdb.firebaseio.com",
            projectId: "multiplication-adventure-eee71",
            storageBucket: "multiplication-adventure-eee71.firebasestorage.app",
            messagingSenderId: "431295452406",
            appId: "1:431295452406:web:eee4ec6aba9050d832c8d7"
        };

        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const database = firebase.database();

        let currentUser = null;
        let isLoginMode = true;
        
        let gameState = {
            currentLevel: 1,
            totalStars: 0,
            unlockedTables: [1],
            selectedTable: null,
            currentQuestion: 0,
            quizStars: 0,
            quizAnswers: []
        };

        // ==================== AUTH ====================
        auth.onAuthStateChanged(user => {
            if (user) {
                currentUser = user;
                loadUserData();
            } else {
                currentUser = null;
                showLoginScreen();
            }
        });

        function toggleAuthMode() {
            isLoginMode = !isLoginMode;
            const nameGroup = document.getElementById('nameGroup');
            const authButton = document.getElementById('authButton');
            const toggleText = document.getElementById('toggleText');
            
            if (isLoginMode) {
                nameGroup.style.display = 'none';
                authButton.textContent = 'Ø¯Ø®ÙˆÙ„ | Login';
                toggleText.textContent = 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ Ø³Ø¬Ù‘Ù„ Ø§Ù„Ø¢Ù†!';
            } else {
                nameGroup.style.display = 'block';
                authButton.textContent = 'ØªØ³Ø¬ÙŠÙ„ | Sign Up';
                toggleText.textContent = 'Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„!';
            }
        }

        async function handleAuth(event) {
            event.preventDefault();
            
            const email = document.getElementById('emailInput').value;
            const password = document.getElementById('passwordInput').value;
            const name = document.getElementById('nameInput').value;
            const errorEl = document.getElementById('authError');
            
            errorEl.classList.remove('show');
            
            try {
                if (isLoginMode) {
                    await auth.signInWithEmailAndPassword(email, password);
                } else {
                    const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                    await database.ref('users/' + userCredential.user.uid).set({
                        name: name || email.split('@')[0],
                        email: email,
                        currentLevel: 1,
                        totalStars: 0,
                        unlockedTables: [1],
                        createdAt: new Date().toISOString()
                    });
                }
            } catch (error) {
                const messages = {
                    'auth/email-already-in-use': 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ù…Ø³ØªØ®Ø¯Ù… | Email in use',
                    'auth/invalid-email': 'Ø¨Ø±ÙŠØ¯ ØºÙŠØ± ØµØ­ÙŠØ­ | Invalid email',
                    'auth/weak-password': 'ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø¶Ø¹ÙŠÙØ© | Weak password',
                    'auth/user-not-found': 'Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯ | User not found',
                    'auth/wrong-password': 'ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø®Ø§Ø·Ø¦Ø© | Wrong password'
                };
                errorEl.textContent = messages[error.code] || 'Ø®Ø·Ø£ | Error';
                errorEl.classList.add('show');
            }
        }

        async function logout() {
            await auth.signOut();
            showLoginScreen();
        }

        function showLoginScreen() {
            document.getElementById('loginScreen').classList.remove('hidden');
            document.getElementById('mainApp').classList.remove('active');
        }

        function hideLoginScreen() {
            document.getElementById('loginScreen').classList.add('hidden');
            document.getElementById('mainApp').classList.add('active');
        }

        // ==================== USER DATA ====================
        async function loadUserData() {
            if (!currentUser) return;
            
            try {
                const snapshot = await database.ref('users/' + currentUser.uid).once('value');
                const data = snapshot.val();
                
                if (data) {
                    gameState.currentLevel = data.currentLevel || 1;
                    gameState.totalStars = data.totalStars || 0;
                    gameState.unlockedTables = data.unlockedTables || [1];
                    
                    document.getElementById('userName').textContent = data.name || currentUser.email.split('@')[0];
                    document.getElementById('userAvatar').textContent = (data.name || currentUser.email)[0].toUpperCase();
                    
                    updateDisplay();
                    renderTablesGrid();
                    hideLoginScreen();
                }
            } catch (error) {
                console.error('Load error:', error);
            }
        }

        async function saveUserData() {
            if (!currentUser) return;
            
            try {
                await database.ref('users/' + currentUser.uid).update({
                    currentLevel: gameState.currentLevel,
                    totalStars: gameState.totalStars,
                    unlockedTables: gameState.unlockedTables,
                    lastUpdated: new Date().toISOString()
                });
                return Promise.resolve();
            } catch (error) {
                console.error('Save error:', error);
                return Promise.reject(error);
            }
        }

        function updateDisplay() {
            document.getElementById('headerStars').textContent = gameState.totalStars;
            document.getElementById('headerLevel').textContent = gameState.currentLevel;
        }

        // ==================== TABLES GRID ====================
        function renderTablesGrid() {
            const grid = document.getElementById('tablesGrid');
            grid.innerHTML = '';
            
            const tableData = [
                { num: 1, title: 'Ø¬Ø¯ÙˆÙ„ Ù¡', subtitle: 'Table 1', emoji: 'ğŸŒŸ' },
                { num: 2, title: 'Ø¬Ø¯ÙˆÙ„ Ù¢', subtitle: 'Table 2', emoji: 'ğŸ¯' },
                { num: 3, title: 'Ø¬Ø¯ÙˆÙ„ Ù£', subtitle: 'Table 3', emoji: 'ğŸ¨' },
                { num: 4, title: 'Ø¬Ø¯ÙˆÙ„ Ù¤', subtitle: 'Table 4', emoji: 'ğŸª' },
                { num: 5, title: 'Ø¬Ø¯ÙˆÙ„ Ù¥', subtitle: 'Table 5', emoji: 'ğŸ­' },
                { num: 6, title: 'Ø¬Ø¯ÙˆÙ„ Ù¦', subtitle: 'Table 6', emoji: 'ğŸ¸' },
                { num: 7, title: 'Ø¬Ø¯ÙˆÙ„ Ù§', subtitle: 'Table 7', emoji: 'ğŸº' },
                { num: 8, title: 'Ø¬Ø¯ÙˆÙ„ Ù¨', subtitle: 'Table 8', emoji: 'ğŸ¹' },
                { num: 9, title: 'Ø¬Ø¯ÙˆÙ„ Ù©', subtitle: 'Table 9', emoji: 'ğŸ»' },
                { num: 10, title: 'Ø¬Ø¯ÙˆÙ„ Ù¡Ù ', subtitle: 'Table 10', emoji: 'ğŸ†' }
            ];
            
            tableData.forEach(table => {
                const isUnlocked = gameState.unlockedTables.includes(table.num);
                const card = document.createElement('div');
                card.className = `table-card ${isUnlocked ? '' : 'locked'}`;
                
                if (isUnlocked) {
                    card.onclick = () => selectTable(table.num);
                }
                
                card.innerHTML = `
                    ${!isUnlocked ? '<div class="lock-icon">ğŸ”’</div>' : ''}
                    <div class="table-number">${table.emoji}</div>
                    <div class="table-title">${table.title}</div>
                    <div class="table-subtitle">${table.subtitle}</div>
                `;
                
                grid.appendChild(card);
            });
        }

        function selectTable(tableNum) {
            gameState.selectedTable = tableNum;
            changeTableMusic(tableNum);
            showLearningScreen(tableNum);
        }

        // ==================== NAVIGATION ====================
        function showScreen(screenId) {
            document.querySelectorAll('.menu-screen, .learning-screen, .quiz-screen').forEach(s => {
                s.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
        }

        function backToMenu() {
            showScreen('menuScreen');
            renderTablesGrid();
            updateDisplay();
        }

        // ==================== LEARNING CONTENT ====================
        function showLearningScreen(tableNum) {
            showScreen('learningScreen');
            const container = document.getElementById('learningContent');
            container.innerHTML = getEnhancedContent(tableNum);
        }

        function getEnhancedContent(num) {
            const stories = {
                1: {
                    story: `ÙÙŠ Ù‚Ø±ÙŠØ© Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø³Ø­Ø±ÙŠØ©ØŒ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø·ÙÙ„ Ø§Ø³Ù…Ù‡ "ÙˆØ§Ø­Ø¯" ğŸ‘¦<br>
                    ÙƒØ§Ù† ÙˆØ§Ø­Ø¯ ÙŠØ­Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† ÙˆØ­ÙŠØ¯Ø§Ù‹ ÙˆÙ…Ù…ÙŠØ²Ø§Ù‹!<br>
                    ÙƒÙ„ Ù…Ø§ ÙŠÙ„Ù…Ø³Ù‡ ÙŠØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡Ùˆ... Ù„Ø§ ÙŠØªØºÙŠØ± Ø£Ø¨Ø¯Ø§Ù‹! âœ¨<br><br>
                    <span class="story-highlight">Ø§Ù„Ù…Ø¹Ø¬Ø²Ø©:</span> ÙˆØ§Ø­Ø¯ Ø¹Ù†Ø¯Ù‡ Ù‚ÙˆØ© Ø³Ø­Ø±ÙŠØ©!<br>
                    Ø¹Ù†Ø¯Ù…Ø§ ÙŠÙ„Ù…Ø³ Ø£ÙŠ Ø±Ù‚Ù…ØŒ Ø§Ù„Ø±Ù‚Ù… ÙŠØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡Ùˆ! ğŸª„<br>
                    Ù„Ù…Ø³ 5 â†’ Ø¨Ù‚ÙŠ 5 | Ù„Ù…Ø³ 9 â†’ Ø¨Ù‚ÙŠ 9<br><br>
                    Ù„Ø°Ù„Ùƒ... Ø£ÙŠ Ø±Ù‚Ù… Ã— ÙˆØ§Ø­Ø¯ = Ù†ÙØ³ Ø§Ù„Ø±Ù‚Ù…! ğŸ¯`,
                    song: `ğŸµ Ø£Ù†Ø§ ÙˆØ§Ø­Ø¯ Ø§Ù„Ø³Ø§Ø­Ø± Ø§Ù„Ù…Ù…ÙŠØ² ğŸµ
ÙˆØ§Ø­Ø¯ Ã— ÙˆØ§Ø­Ø¯ = ÙˆØ§Ø­Ø¯ Ù…Ø±ØªØ§Ø­
Ø§Ø«Ù†ÙŠÙ† Ã— ÙˆØ§Ø­Ø¯ = Ø§Ø«Ù†ÙŠÙ† ÙŠØ§ Ø¬Ù…Ø§Ø¹Ø©
Ø«Ù„Ø§Ø«Ø© Ã— ÙˆØ§Ø­Ø¯ = Ø«Ù„Ø§Ø«Ø© Ø¨Ø³ÙŠØ·Ø©
Ø§Ù„Ø±Ù‚Ù… ÙŠØ¨Ù‚Ù‰ Ø²ÙŠ Ù…Ø§ Ù‡Ùˆ
Ù…Ø§ ÙŠØªØºÙŠØ±Ø´ Ø£Ø¨Ø¯Ø§Ù‹ ÙŠØ§ Ø­Ù„Ùˆ! ğŸ¶`,
                    examples: [
                        { emoji: 'ğŸ', count: 1, equation: '1 Ã— 1 = 1', title: 'One Apple' },
                        { emoji: 'ğŸ¶', count: 3, equation: '3 Ã— 1 = 3', title: 'Three Dogs' },
                        { emoji: 'âš½', count: 5, equation: '5 Ã— 1 = 5', title: 'Five Balls' },
                        { emoji: 'ğŸŒ¸', count: 7, equation: '7 Ã— 1 = 7', title: 'Seven Flowers' }
                    ],
                    tricks: [
                        'ğŸª ÙƒØ§Ù„Ù…Ø±Ø¢Ø© - ØªØ±Ù‰ Ù†ÙØ³ Ø§Ù„ØµÙˆØ±Ø©!',
                        'ğŸ¯ Ø£Ø³Ù‡Ù„ Ø¬Ø¯ÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø·Ù„Ø§Ù‚',
                        'âœ¨ Ø§Ù„Ø±Ù‚Ù… Ù„Ø§ ÙŠØªØºÙŠØ± Ø£Ø¨Ø¯Ø§Ù‹',
                        'ğŸŒŸ Ø§Ø­ÙØ¸Ù‡ ÙÙŠ 10 Ø«ÙˆØ§Ù†ÙŠ ÙÙ‚Ø·!'
                    ]
                },
                2: {
                    story: `ÙÙŠ ØºØ§Ø¨Ø© Ø§Ù„Ø£Ø±Ù‚Ø§Ù…ØŒ Ø¹Ø§Ø´ Ø£Ø±Ù†Ø¨Ø§Ù† ØªÙˆØ£Ù… Ø§Ø³Ù…Ù‡Ù…Ø§ "Ø²ÙˆØ² ÙˆØ²ÙŠØ²ÙŠ" ğŸ°ğŸ°<br>
                    ÙƒØ§Ù†Ø§ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ù…Ø¹Ø§Ù‹... Ù„Ø§ ÙŠÙØªØ±Ù‚Ø§Ù† Ø£Ø¨Ø¯Ø§Ù‹!<br>
                    ÙƒÙ„ Ø´ÙŠØ¡ ÙÙŠ Ø­ÙŠØ§ØªÙ‡Ù…Ø§ ÙŠØ£ØªÙŠ ÙÙŠ Ø£Ø²ÙˆØ§Ø¬! ğŸ‘¯â€â™€ï¸<br><br>
                    <span class="story-highlight">Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ©:</span><br>
                    Ø²ÙˆØ² ÙˆØ²ÙŠØ²ÙŠ ÙŠØ¬Ù…Ø¹Ø§Ù† ÙƒÙ„ Ø´ÙŠØ¡ Ù…Ø±ØªÙŠÙ†! ğŸ¯<br>
                    Ø¹Ù†Ø¯Ù‡Ù… Ø¬Ø²Ø±ØªØ§Ù† ğŸ¥•ğŸ¥•ØŒ Ø­Ø°Ø§Ø¡Ø§Ù† ğŸ‘ŸğŸ‘ŸØŒ Ø¹ÙŠÙ†Ø§Ù† ğŸ‘€<br>
                    ÙƒÙ„ Ø´ÙŠØ¡ Ã— 2 ÙÙŠ Ø¹Ø§Ù„Ù…Ù‡Ù…Ø§ Ø§Ù„Ø³Ø­Ø±ÙŠ!<br><br>
                    ÙˆØ§Ù„Ø£Ø±ÙˆØ¹ØŸ ÙƒÙ„ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… ØªÙ†ØªÙ‡ÙŠ Ø¨Ù€: 0, 2, 4, 6, 8 â­`,
                    song: `ğŸµ Ø£Ù†Ø§ Ø²ÙˆØ² ÙˆØ£Ù†Ø§ Ø²ÙŠØ²ÙŠ Ø§Ù„ØªÙˆØ£Ù… ğŸµ
Ø¯Ø§ÙŠÙ…Ø§Ù‹ Ø³ÙˆØ§ Ù…Ø´ Ø¨Ù†ÙØªØ±Ù‚
ÙˆØ§Ø­Ø¯ Ù…Ø±ØªÙŠÙ† = Ø§Ø«Ù†ÙŠÙ† ÙŠØ§ ØµØ¯ÙŠÙ‚ÙŠ
Ø§Ø«Ù†ÙŠÙ† Ù…Ø±ØªÙŠÙ† = Ø£Ø±Ø¨Ø¹Ø© Ø­Ù‚ÙŠÙ‚ÙŠ
Ø«Ù„Ø§Ø«Ø© Ù…Ø±ØªÙŠÙ† = Ø³ØªØ© ÙŠØ§ Ø¬Ù…ÙŠÙ„
Ø§Ù„Ø²ÙˆØ¬ÙŠ Ø¯Ø§ÙŠÙ…Ø§Ù‹ Ù‡Ùˆ Ø§Ù„Ø£ØµÙŠÙ„! ğŸ¶`,
                    examples: [
                        { emoji: 'ğŸ‘Ÿ', count: 2, equation: '1 Ã— 2 = 2', title: 'Pair of Shoes' },
                        { emoji: 'ğŸ°', count: 4, equation: '2 Ã— 2 = 4', title: 'Four Rabbits' },
                        { emoji: 'ğŸ¥•', count: 6, equation: '3 Ã— 2 = 6', title: 'Six Carrots' },
                        { emoji: 'ğŸ‘€', count: 2, equation: '1 Ã— 2 = 2', title: 'Two Eyes' }
                    ],
                    tricks: [
                        'â• Ø§Ø¬Ù…Ø¹ Ø§Ù„Ø±Ù‚Ù… Ù…Ø¹ Ù†ÙØ³Ù‡!',
                        'ğŸµ Ø¹Ø¯ Ø¨Ø§Ù„Ø§Ø«Ù†ÙŠÙ†Ø§Øª: 2ØŒ 4ØŒ 6ØŒ 8...',
                        'ğŸ‘Ÿ ÙÙƒØ± ÙÙŠ Ø§Ù„Ø£Ø²ÙˆØ§Ø¬!',
                        '0ï¸âƒ£ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø£Ø±Ù‚Ø§Ù… Ø²ÙˆØ¬ÙŠØ©'
                    ]
                },
                3: {
                    story: `ÙÙŠ Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ø«Ù„Ø«Ø§ØªØŒ Ø¹Ø§Ø´ Ø«Ù„Ø§Ø«Ø© Ø£ØµØ¯Ù‚Ø§Ø¡: Ø³Ø§Ù…ÙŠ ÙˆØ³Ø§Ø±Ø© ÙˆØ³Ø§Ù„Ù… ğŸ§’ğŸ‘§ğŸ§’<br>
                    ÙƒØ§Ù†ÙˆØ§ ÙŠÙØ¹Ù„ÙˆÙ† ÙƒÙ„ Ø´ÙŠØ¡ Ù…Ø¹Ø§Ù‹!<br>
                    ÙŠØ¬Ù„Ø³ÙˆÙ† Ø¹Ù„Ù‰ Ù…Ù‚Ø§Ø¹Ø¯ Ø°Ø§Øª 3 Ø£Ø±Ø¬Ù„ ğŸª‘<br>
                    ÙŠÙ„Ø¹Ø¨ÙˆÙ† Ø¨ÙƒØ±Ø§Øª Ø¨Ø±Ø³ÙŠÙ… 3 ÙˆØ±Ù‚Ø§Øª ğŸ€<br>
                    ÙˆÙŠØ´Ø§Ù‡Ø¯ÙˆÙ† Ø¥Ø´Ø§Ø±Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø°Ø§Øª 3 Ø£Ù„ÙˆØ§Ù† ğŸš¦<br><br>
                    <span class="story-highlight">Ø§Ù„Ø³Ø± Ø§Ù„Ø®ÙÙŠ:</span><br>
                    Ø§Ø¬Ù…Ø¹ Ø£Ø±Ù‚Ø§Ù… Ø£ÙŠ Ù†Ø§ØªØ¬ ÙÙŠ Ø¬Ø¯ÙˆÙ„ 3...<br>
                    ÙˆØ§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø¯Ø§Ø¦Ù…Ø§Ù‹ ÙŠÙ‚Ø¨Ù„ Ø§Ù„Ù‚Ø³Ù…Ø© Ø¹Ù„Ù‰ 3! ğŸ¯<br>
                    Ù…Ø«Ø§Ù„: 12 â†’ 1+2=3 âœ“ | 27 â†’ 2+7=9 âœ“<br><br>
                    Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¹Ø¬Ø²Ø© ØªØ³Ø§Ø¹Ø¯Ùƒ ØªØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¬Ø§Ø¨Ø§ØªÙƒ! ğŸŒŸ`,
                    song: `ğŸµ Ø«Ù„Ø§Ø«Ø© Ø£ØµØ¯Ù‚Ø§Ø¡ ÙÙŠ ÙƒÙ„ Ù…ÙƒØ§Ù† ğŸµ
Ø³Ø§Ù…ÙŠ ÙˆØ³Ø§Ø±Ø© ÙˆØ³Ø§Ù„Ù… Ø§Ù„Ø´Ø·Ø§Ø±
ÙˆØ§Ø­Ø¯ ÙÙŠ Ø«Ù„Ø§Ø«Ø© = Ø«Ù„Ø§Ø«Ø© ÙŠØ§ Ø­Ø¨Ø§ÙŠØ¨Ù†Ø§
Ø§Ø«Ù†ÙŠÙ† ÙÙŠ Ø«Ù„Ø§Ø«Ø© = Ø³ØªØ© ÙŠØ§ Ø£ØµØ­Ø§Ø¨Ù†Ø§
Ø«Ù„Ø§Ø«Ø© ÙÙŠ Ø«Ù„Ø§Ø«Ø© = ØªØ³Ø¹Ø© Ø­Ù„ÙˆØ©
Ø£Ø±Ø¨Ø¹Ø© ÙÙŠ Ø«Ù„Ø§Ø«Ø© = Ø§Ø«Ù†Ø§ Ø¹Ø´Ø± Ù‚ÙˆØ©! ğŸ¶`,
                    examples: [
                        { emoji: 'ğŸ€', count: 3, equation: '1 Ã— 3 = 3', title: 'Three Leaves' },
                        { emoji: 'ğŸ“', count: 3, equation: '1 Ã— 3 = 3', title: 'Triangle Sides' },
                        { emoji: 'ğŸš¦', count: 3, equation: '1 Ã— 3 = 3', title: 'Traffic Lights' },
                        { emoji: 'ğŸ§’', count: 9, equation: '3 Ã— 3 = 9', title: 'Nine Friends' }
                    ],
                    tricks: [
                        'â• Ø§Ø¬Ù…Ø¹ Ø§Ù„Ø±Ù‚Ù… 3 Ù…Ø±Ø§Øª',
                        'ğŸ”¢ Ø¬Ù…Ø¹ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… = 3 Ø£Ùˆ 6 Ø£Ùˆ 9',
                        'ğŸ“ Ø§Ø±Ø³Ù… Ù…Ø«Ù„Ø«Ø§Øª ÙˆØ¹Ø¯Ù‡Ø§',
                        'ğŸ¯ Ø§Ù„Ù†Ù…Ø·: 3ØŒ 6ØŒ 9ØŒ 12...'
                    ]
                },
                4: {
                    story: `ÙÙŠ Ù‚ØµØ± Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§ØªØŒ Ø¹Ø§Ø´ Ù…Ù„Ùƒ Ø§Ø³Ù…Ù‡ "Ø±Ø¨ÙŠØ¹" ğŸ‘‘<br>
                    ÙƒØ§Ù† Ù‚ØµØ±Ù‡ Ù…Ø±Ø¨Ø¹Ø§Ù‹ Ø¨Ù€ 4 Ø£Ø¨Ø±Ø§Ø¬ ğŸ°<br>
                    Ø¹Ø±Ø´Ù‡ Ù„Ù‡ 4 Ø£Ø±Ø¬Ù„ØŒ Ø·Ø§ÙˆÙ„ØªÙ‡ Ù„Ù‡Ø§ 4 Ø¬ÙˆØ§Ù†Ø¨ ğŸ“<br>
                    Ø­ØªÙ‰ Ø³ÙŠØ§Ø±ØªÙ‡ Ø§Ù„Ù…Ù„ÙƒÙŠØ© Ù„Ù‡Ø§ 4 Ø¹Ø¬Ù„Ø§Øª! ğŸš—<br><br>
                    <span class="story-highlight">Ø§Ù„Ø­ÙŠÙ„Ø© Ø§Ù„Ù…Ù„ÙƒÙŠØ©:</span><br>
                    Ø§Ù„Ù…Ù„Ùƒ Ø±Ø¨ÙŠØ¹ ÙƒØ§Ù† Ø¹Ù†Ø¯Ù‡ Ø³Ø±:<br>
                    Ø£ÙŠ Ø±Ù‚Ù… Ã— 4 = Ø§Ù„Ø±Ù‚Ù… Ã— 2ØŒ Ø«Ù… Ã— 2 Ù…Ø±Ø© Ø£Ø®Ø±Ù‰! ğŸ¯<br>
                    Ù…Ø«Ø§Ù„: 7 Ã— 4 = (7 Ã— 2) Ã— 2 = 14 Ã— 2 = 28<br><br>
                    ÙˆÙƒÙ„ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… ØªÙƒÙˆÙ† Ø²ÙˆØ¬ÙŠØ© Ø¯Ø§Ø¦Ù…Ø§Ù‹! âš¡`,
                    song: `ğŸµ Ø§Ù„Ù…Ù„Ùƒ Ø±Ø¨ÙŠØ¹ ÙÙŠ Ù‚ØµØ± Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª ğŸµ
ÙˆØ§Ø­Ø¯ ÙÙŠ Ø£Ø±Ø¨Ø¹Ø© = Ø£Ø±Ø¨Ø¹Ø© ÙŠØ§ Ø­Ù„ÙˆÙŠÙ†
Ø§Ø«Ù†ÙŠÙ† ÙÙŠ Ø£Ø±Ø¨Ø¹Ø© = Ø«Ù…Ø§Ù†ÙŠØ© Ù…Ø§Ø´ÙŠÙŠÙ†
Ø«Ù„Ø§Ø«Ø© ÙÙŠ Ø£Ø±Ø¨Ø¹Ø© = Ø§Ø«Ù†Ø§ Ø¹Ø´Ø± Ø·Ø§ÙŠØ±ÙŠÙ†
Ø¶Ø±Ø¨ ÙÙŠ Ø§Ø«Ù†ÙŠÙ† Ù…Ø±ØªÙŠÙ†
ÙˆØ§Ù„Ù†Ø§ØªØ¬ Ø¯Ø§ÙŠÙ…Ø§Ù‹ Ø²ÙˆØ¬ÙŠ ÙŠØ§ Ø±ÙÙŠØ¹! ğŸ¶`,
                    examples: [
                        { emoji: 'âš«', count: 4, equation: '1 Ã— 4 = 4', title: 'Four Wheels' },
                        { emoji: 'ğŸ°', count: 4, equation: '1 Ã— 4 = 4', title: 'Four Towers' },
                        { emoji: 'ğŸ¦µ', count: 4, equation: '1 Ã— 4 = 4', title: 'Four Legs' },
                        { emoji: 'ğŸ”²', count: 4, equation: '1 Ã— 4 = 4', title: 'Four Sides' }
                    ],
                    tricks: [
                        'Ã—2 Ù…Ø±ØªÙŠÙ† = Ø§Ù„Ù†ØªÙŠØ¬Ø©!',
                        'â–¡ Ø§Ø±Ø³Ù… Ù…Ø±Ø¨Ø¹Ø§Øª',
                        'ğŸš— ÙÙƒØ± ÙÙŠ Ø§Ù„Ø¹Ø¬Ù„Ø§Øª',
                        'ğŸ“ ÙƒÙ„ Ø²Ø§ÙˆÙŠØ© = 90 Ø¯Ø±Ø¬Ø©'
                    ]
                },
                5: {
                    story: `ÙÙŠ ÙƒÙˆÙƒØ¨ Ø§Ù„Ù†Ø¬ÙˆÙ…ØŒ Ø¹Ø§Ø´Øª Ù†Ø¬Ù…Ø© Ø§Ø³Ù…Ù‡Ø§ "Ø®Ù…Ø§Ø³ÙŠØ©" â­<br>
                    ÙƒØ§Ù† Ù„Ù‡Ø§ 5 Ø±Ø¤ÙˆØ³ Ù…Ø¶ÙŠØ¦Ø© ØªÙ†ÙŠØ± Ø§Ù„Ø³Ù…Ø§Ø¡!<br>
                    ÙƒÙ„ Ø£ØµØ¯Ù‚Ø§Ø¦Ù‡Ø§ Ù„Ø¯ÙŠÙ‡Ù… 5 Ø£ØµØ§Ø¨Ø¹ ÙÙŠ ÙƒÙ„ ÙŠØ¯ âœ‹<br>
                    ÙˆÙŠØ¹Ù…Ù„ÙˆÙ† 5 Ø£ÙŠØ§Ù… ÙÙŠ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ ğŸ“…<br><br>
                    <span class="story-highlight">Ø§Ù„Ù…Ø¹Ø¬Ø²Ø© Ø§Ù„ÙƒØ¨Ø±Ù‰:</span><br>
                    Ø®Ù…Ø§Ø³ÙŠØ© Ø¹Ù„Ù…Øª Ø§Ù„Ø¬Ù…ÙŠØ¹ Ø³Ø±Ø§Ù‹ Ø±Ù‡ÙŠØ¨Ø§Ù‹:<br>
                    ÙƒÙ„ Ù†Ø§ØªØ¬ ÙÙŠ Ø¬Ø¯ÙˆÙ„ 5 ÙŠÙ†ØªÙ‡ÙŠ Ø¨Ù€ 0 Ø£Ùˆ 5! ğŸ¯<br>
                    Ø±Ù‚Ù… Ø²ÙˆØ¬ÙŠ Ã— 5 = ÙŠÙ†ØªÙ‡ÙŠ Ø¨Ù€ 0<br>
                    Ø±Ù‚Ù… ÙØ±Ø¯ÙŠ Ã— 5 = ÙŠÙ†ØªÙ‡ÙŠ Ø¨Ù€ 5<br><br>
                    Ø£Ø³Ù‡Ù„ Ø¬Ø¯ÙˆÙ„ Ø¨Ø¹Ø¯ Ø§Ù„ÙˆØ§Ø­Ø¯! â­â­â­â­â­`,
                    song: `ğŸµ Ø®Ù…Ø§Ø³ÙŠØ© Ø§Ù„Ù†Ø¬Ù…Ø© Ø§Ù„Ù…Ø¶ÙŠØ¦Ø© ğŸµ
ÙˆØ§Ø­Ø¯ ÙÙŠ Ø®Ù…Ø³Ø© = Ø®Ù…Ø³Ø© ÙŠØ§ Ù†Ø¬ÙˆÙ…
Ø§Ø«Ù†ÙŠÙ† ÙÙŠ Ø®Ù…Ø³Ø© = Ø¹Ø´Ø±Ø© ÙŠØ§ Ø­Ù„ÙˆÙ…
Ø«Ù„Ø§Ø«Ø© ÙÙŠ Ø®Ù…Ø³Ø© = Ø®Ù…Ø³ØªØ§Ø´Ø± Ù…Ø¨Ø³ÙˆØ·ÙŠÙ†
Ø¹Ø¯ Ø¹Ù„Ù‰ ØµÙˆØ§Ø¨Ø¹Ùƒ
ÙˆÙ‡ØªÙ„Ø§Ù‚ÙŠ Ø§Ù„Ø­Ù„ Ø¨Ø³ÙŠØ· ÙˆÙ…Ø¶Ù…ÙˆÙ†! ğŸ¶`,
                    examples: [
                        { emoji: 'â­', count: 5, equation: '1 Ã— 5 = 5', title: 'Star Points' },
                        { emoji: 'âœ‹', count: 5, equation: '1 Ã— 5 = 5', title: 'Five Fingers' },
                        { emoji: 'ğŸ–ï¸', count: 10, equation: '2 Ã— 5 = 10', title: 'Two Hands' },
                        { emoji: 'ğŸŒŸ', count: 15, equation: '3 Ã— 5 = 15', title: 'Shining Stars' }
                    ],
                    tricks: [
                        'âœ‹ Ø¹Ø¯ Ø¹Ù„Ù‰ Ø£ØµØ§Ø¨Ø¹Ùƒ',
                        'â° ÙƒÙ„ 5 Ø¯Ù‚Ø§Ø¦Ù‚',
                        '0ï¸âƒ£5ï¸âƒ£ ÙŠÙ†ØªÙ‡ÙŠ Ø¨Ù€ 0 Ø£Ùˆ 5',
                        'ğŸ¯ Ù†ØµÙ Ø§Ù„Ø¹Ø´Ø±Ø©!'
                    ]
                },
                6: {
                    story: `ÙÙŠ Ø®Ù„ÙŠØ© Ø§Ù„Ù†Ø­Ù„ Ø§Ù„Ø¹Ø¬ÙŠØ¨Ø©ØŒ Ø¹Ø§Ø´ Ù†Ø­Ù„ Ø§Ø³Ù…Ù‡ "Ø³Ø¯Ø§Ø³ÙŠ" ğŸ<br>
                    ÙƒØ§Ù†Øª Ø®Ù„ÙŠØªÙ‡ Ù…ÙƒÙˆÙ†Ø© Ù…Ù† Ø£Ø´ÙƒØ§Ù„ Ø³Ø¯Ø§Ø³ÙŠØ© Ù…Ø«Ø§Ù„ÙŠØ©! ğŸ”·<br>
                    ÙƒÙ„ Ø´ÙƒÙ„ Ù„Ù‡ 6 Ø£Ø¶Ù„Ø§Ø¹ Ù…ØªØ³Ø§ÙˆÙŠØ©<br>
                    ÙˆØ§Ù„Ù†Ø­Ù„ ÙŠØµÙ†Ø¹ 6 Ø£Ù†ÙˆØ§Ø¹ Ù…Ù† Ø§Ù„Ø¹Ø³Ù„ Ø§Ù„Ù„Ø°ÙŠØ° ğŸ¯<br><br>
                    <span class="story-highlight">Ø§Ù„Ø­ÙŠÙ„Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ©:</span><br>
                    Ø³Ø¯Ø§Ø³ÙŠ Ø§ÙƒØªØ´Ù Ø³Ø±Ø§Ù‹ Ø±Ø§Ø¦Ø¹Ø§Ù‹:<br>
                    6 = 2 Ã— 3... Ù„Ø°Ù„Ùƒ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¶Ø±Ø¨ ÙÙŠ 2 Ø«Ù… ÙÙŠ 3! ğŸ¯<br>
                    Ù…Ø«Ø§Ù„: 7 Ã— 6 = (7 Ã— 2) Ã— 3 = 14 Ã— 3 = 42<br><br>
                    Ø£Ùˆ Ø§Ø¶Ø±Ø¨ ÙÙŠ 3 Ø«Ù… ÙÙŠ 2... Ù†ÙØ³ Ø§Ù„Ù†ØªÙŠØ¬Ø©! ğŸŒŸ`,
                    song: `ğŸµ Ø³Ø¯Ø§Ø³ÙŠ Ø§Ù„Ù†Ø­Ù„Ø© Ø§Ù„Ø°ÙƒÙŠØ© ğŸµ
ÙˆØ§Ø­Ø¯ ÙÙŠ Ø³ØªØ© = Ø³ØªØ© ÙŠØ§ Ø¹Ø³Ù„
Ø§Ø«Ù†ÙŠÙ† ÙÙŠ Ø³ØªØ© = Ø§Ø«Ù†Ø§ Ø¹Ø´Ø± ÙŠØ§ Ø¨Ø·Ù„
Ø«Ù„Ø§Ø«Ø© ÙÙŠ Ø³ØªØ© = Ø«Ù…Ø§Ù†ÙŠØ© Ø¹Ø´Ø± Ø­Ù„Ùˆ
Ø£Ø±Ø¨Ø¹Ø© ÙÙŠ Ø³ØªØ© = Ø£Ø±Ø¨Ø¹Ø© ÙˆØ¹Ø´Ø±ÙŠÙ† Ø¬Ù…ÙŠÙ„
Ø§Ø¶Ø±Ø¨ ÙÙŠ Ø§Ø«Ù†ÙŠÙ† ÙˆØ¨Ø¹Ø¯ÙŠÙ† ÙÙŠ Ø«Ù„Ø§Ø«Ø©
ÙˆØ§Ù„Ù†ØªÙŠØ¬Ø© Ù‡ØªØ·Ù„Ø¹ Ø³Ù‡Ù„Ø© ÙˆØ±Ø§Ø¦Ø¹Ø©! ğŸ¶`,
                    examples: [
                        { emoji: 'ğŸ”·', count: 6, equation: '1 Ã— 6 = 6', title: 'Hexagon' },
                        { emoji: 'ğŸ', count: 6, equation: '1 Ã— 6 = 6', title: 'Six Bees' },
                        { emoji: 'ğŸ¯', count: 12, equation: '2 Ã— 6 = 12', title: 'Honey Jars' },
                        { emoji: 'â¬¡', count: 18, equation: '3 Ã— 6 = 18', title: 'Honeycomb' }
                    ],
                    tricks: [
                        'Ã—3 Ø«Ù… Ã—2 (Ø£Ùˆ Ø§Ù„Ø¹ÙƒØ³)',
                        'ğŸ ÙÙƒØ± ÙÙŠ Ø®Ù„ÙŠØ© Ø§Ù„Ù†Ø­Ù„',
                        'ğŸ”· Ø§Ù„Ø£Ø´ÙƒØ§Ù„ Ø§Ù„Ø³Ø¯Ø§Ø³ÙŠØ©',
                        'ğŸ¯ 3 + 3 = 6'
                    ]
                },
                7: {
                    story: `ÙÙŠ Ù‚ÙˆØ³ Ù‚Ø²Ø­ Ø§Ù„Ø³Ø­Ø±ÙŠØŒ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ 7 Ø£Ù„ÙˆØ§Ù† Ù…Ø¨Ù‡Ø±Ø© ğŸŒˆ<br>
                    ÙƒÙ„ Ù„ÙˆÙ† Ù„Ù‡ Ù‚ØµØ© Ø®Ø§ØµØ©!<br>
                    Ø£Ø­Ù…Ø± ğŸ”´ØŒ Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ ğŸŸ ØŒ Ø£ØµÙØ± ğŸŸ¡ØŒ Ø£Ø®Ø¶Ø± ğŸŸ¢<br>
                    Ø£Ø²Ø±Ù‚ ğŸ”µØŒ Ù†ÙŠÙ„ÙŠ ğŸŸ£ØŒ Ø¨Ù†ÙØ³Ø¬ÙŠ ğŸŸª<br><br>
                    <span class="story-highlight">Ø§Ù„Ø³Ø± Ø§Ù„Ù…Ù„ÙˆÙ†:</span><br>
                    Ø§Ù„Ø±Ù‚Ù… 7 Ù„Ù‡ Ù‚ÙˆØ© Ø®Ø§ØµØ© ÙÙŠ Ø§Ù„Ø­Ø¸! ğŸ€<br>
                    7 Ã— 7 = 49 (Ø§Ø­ÙØ¸Ù‡Ø§ Ø¬ÙŠØ¯Ø§Ù‹!)<br>
                    ÙˆØ¨Ø§Ù‚ÙŠ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø³Ù‡Ù„Ø© Ø¨Ø¹Ø¯Ù‡Ø§ ğŸ¯<br><br>
                    Ø§Ù„Ø­ÙŠÙ„Ø©: 7 Ã— 8 = 56 (Ø®Ù…Ø³Ø© ÙˆØ³ØªØ© Ù…ØªØªØ§Ù„ÙŠØ©!)`,
                    song: `ğŸµ Ù‚ÙˆØ³ Ø§Ù„Ù‚Ø²Ø­ Ø§Ù„Ø³Ø¨Ø§Ø¹ÙŠ ğŸµ
ÙˆØ§Ø­Ø¯ ÙÙŠ Ø³Ø¨Ø¹Ø© = Ø³Ø¨Ø¹Ø© Ø£Ù„ÙˆØ§Ù†
Ø§Ø«Ù†ÙŠÙ† ÙÙŠ Ø³Ø¨Ø¹Ø© = Ø£Ø±Ø¨Ø¹Ø© Ø¹Ø´Ø± ÙŠØ§ Ø²Ù…Ø§Ù†
Ø«Ù„Ø§Ø«Ø© ÙÙŠ Ø³Ø¨Ø¹Ø© = ÙˆØ§Ø­Ø¯ ÙˆØ¹Ø´Ø±ÙŠÙ† Ø­Ù„ÙˆÙŠÙ†
Ø³Ø¨Ø¹Ø© ÙÙŠ Ø³Ø¨Ø¹Ø© = ØªØ³Ø¹Ø© ÙˆØ£Ø±Ø¨Ø¹ÙŠÙ†
Ø§Ù„Ø­Ø¸ Ù…Ø¹ Ø§Ù„Ø³Ø¨Ø¹Ø© Ø¯Ø§ÙŠÙ…Ø§Ù‹
ÙˆØ§Ù„Ù†Ø§ØªØ¬ ÙŠØ·Ù„Ø¹ Ø¬Ù…ÙŠÙ„! ğŸ¶`,
                    examples: [
                        { emoji: 'ğŸŒˆ', count: 7, equation: '1 Ã— 7 = 7', title: 'Rainbow Colors' },
                        { emoji: 'ğŸ€', count: 7, equation: '1 Ã— 7 = 7', title: 'Lucky Seven' },
                        { emoji: 'ğŸ“…', count: 7, equation: '1 Ã— 7 = 7', title: 'Week Days' },
                        { emoji: 'â­', count: 14, equation: '2 Ã— 7 = 14', title: 'Shining Stars' }
                    ],
                    tricks: [
                        'ğŸŒˆ ØªØ°ÙƒØ± Ø£Ù„ÙˆØ§Ù† Ù‚ÙˆØ³ Ù‚Ø²Ø­',
                        '7ï¸âƒ£ Ø±Ù‚Ù… Ø§Ù„Ø­Ø¸!',
                        'ğŸ¯ Ø§Ø­ÙØ¸ 7Ã—7=49',
                        'ğŸ“… Ø£ÙŠØ§Ù… Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ = 7'
                    ]
                },
                8: {
                    story: `ÙÙŠ Ù…Ø­ÙŠØ· Ø§Ù„Ù„Ø§Ù†Ù‡Ø§ÙŠØ©ØŒ Ø¹Ø§Ø´ Ø£Ø®Ø·Ø¨ÙˆØ· Ø§Ø³Ù…Ù‡ "Ø«Ù…Ø§Ù†ÙŠ" ğŸ™<br>
                    ÙƒØ§Ù† Ù„Ù‡ 8 Ø£Ø°Ø±Ø¹ Ù‚ÙˆÙŠØ©!<br>
                    ÙƒÙ„ Ø°Ø±Ø§Ø¹ ØªØ³ØªØ·ÙŠØ¹ Ø­Ù…Ù„ Ø§Ù„ÙƒÙ†ÙˆØ² ğŸ’<br>
                    ÙˆÙŠØ¹ÙŠØ´ ÙÙŠ Ù‚ØµØ± Ø¨Ù‡ 8 ØºØ±Ù ØªØ­Øª Ø§Ù„Ù…Ø§Ø¡! ğŸ°<br><br>
                    <span class="story-highlight">Ø§Ù„Ù…Ø¹Ø¬Ø²Ø© Ø§Ù„Ù…Ø¶Ø§Ø¹ÙØ©:</span><br>
                    Ø«Ù…Ø§Ù†ÙŠ Ø§ÙƒØªØ´Ù Ø£Ù†: 8 = 2 Ã— 2 Ã— 2 ğŸ¯<br>
                    Ù„Ø°Ù„Ùƒ ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ø¶Ø§Ø¹ÙØ© Ø§Ù„Ø±Ù‚Ù… 3 Ù…Ø±Ø§Øª!<br>
                    Ù…Ø«Ø§Ù„: 5 Ã— 8 = 5 Ã— 2 = 10 Ã— 2 = 20 Ã— 2 = 40<br><br>
                    Ø±Ù‚Ù… 8 Ø¹Ù„Ù‰ Ø¬Ù†Ø¨ = âˆ Ø§Ù„Ù„Ø§Ù†Ù‡Ø§ÙŠØ©! â­`,
                    song: `ğŸµ Ø«Ù…Ø§Ù†ÙŠ Ø§Ù„Ø£Ø®Ø·Ø¨ÙˆØ· Ø§Ù„Ø¹Ø¬ÙŠØ¨ ğŸµ
ÙˆØ§Ø­Ø¯ ÙÙŠ Ø«Ù…Ø§Ù†ÙŠØ© = Ø«Ù…Ø§Ù†ÙŠØ© Ø£Ø°Ø±Ø¹
Ø§Ø«Ù†ÙŠÙ† ÙÙŠ Ø«Ù…Ø§Ù†ÙŠØ© = Ø³ØªØ§Ø´Ø± ÙŠØ§ Ø¨Ø±Ø§Ø¹Ù…
Ø«Ù„Ø§Ø«Ø© ÙÙŠ Ø«Ù…Ø§Ù†ÙŠØ© = Ø£Ø±Ø¨Ø¹Ø© ÙˆØ¹Ø´Ø±ÙŠÙ†
Ø¶Ø§Ø¹Ù Ù…Ø±Ø© ÙˆØ§Ø«Ù†ÙŠÙ† ÙˆØ«Ù„Ø§Ø«Ø©
ÙˆØ§Ù„Ù†ØªÙŠØ¬Ø© Ù‡ØªØ·Ù„Ø¹ Ù…Ø¶Ø¨ÙˆØ·Ø©! ğŸ¶`,
                    examples: [
                        { emoji: 'ğŸ™', count: 8, equation: '1 Ã— 8 = 8', title: 'Octopus Arms' },
                        { emoji: 'ğŸ’', count: 8, equation: '1 Ã— 8 = 8', title: 'Eight Gems' },
                        { emoji: 'âˆ', count: 1, equation: '8 sideways', title: 'Infinity' },
                        { emoji: 'ğŸ¦‘', count: 16, equation: '2 Ã— 8 = 16', title: 'Sea Creatures' }
                    ],
                    tricks: [
                        'Ã—2 Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª',
                        'ğŸ™ Ø§Ù„Ø£Ø®Ø·Ø¨ÙˆØ· Ù„Ù‡ 8 Ø£Ø°Ø±Ø¹',
                        'âˆ Ø±Ù‚Ù… 8 = Ø§Ù„Ù„Ø§Ù†Ù‡Ø§ÙŠØ©',
                        'ğŸ¯ Ø¶Ø¹Ù Ø¶Ø¹Ù Ø¶Ø¹Ù!'
                    ]
                },
                9: {
                    story: `ÙÙŠ Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø³Ø­Ø±ØŒ Ø¹Ø§Ø´ Ø³Ø§Ø­Ø± Ø§Ø³Ù…Ù‡ "ØªØ³Ø§Ø¹ÙŠ" ğŸ§™â€â™‚ï¸<br>
                    ÙƒØ§Ù† ÙŠÙ…Ù„Ùƒ 9 Ø¹ØµÙŠ Ø³Ø­Ø±ÙŠØ©! âœ¨<br>
                    ÙƒÙ„ Ø¹ØµØ§ Ù„Ù‡Ø§ Ù‚ÙˆØ© Ø®Ø§ØµØ© ÙˆØ³Ø­Ø± Ù…Ø®ØªÙ„Ù<br>
                    ÙˆØ¹Ù†Ø¯Ù‡ 9 ÙƒØªØ¨ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø£Ø³Ø±Ø§Ø± Ø§Ù„ÙƒÙˆÙ†! ğŸ“š<br><br>
                    <span class="story-highlight">Ø§Ù„Ø³Ø­Ø± Ø§Ù„Ø£Ø¹Ø¸Ù…:</span><br>
                    Ø§Ø¬Ù…Ø¹ Ø£Ø±Ù‚Ø§Ù… Ø£ÙŠ Ù†Ø§ØªØ¬ ÙÙŠ Ø¬Ø¯ÙˆÙ„ 9...<br>
                    Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø¯Ø§Ø¦Ù…Ø§Ù‹ = 9 ! ğŸ¯<br>
                    Ù…Ø«Ø§Ù„: 18 â†’ 1+8=9 | 27 â†’ 2+7=9 | 36 â†’ 3+6=9<br><br>
                    Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„Ø³Ø­Ø± Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ! ğŸŒŸâœ¨`,
                    song: `ğŸµ ØªØ³Ø§Ø¹ÙŠ Ø§Ù„Ø³Ø§Ø­Ø± Ø§Ù„Ø¹Ø¸ÙŠÙ… ğŸµ
ÙˆØ§Ø­Ø¯ ÙÙŠ ØªØ³Ø¹Ø© = ØªØ³Ø¹Ø© Ø¹ØµÙŠ
Ø§Ø«Ù†ÙŠÙ† ÙÙŠ ØªØ³Ø¹Ø© = Ø«Ù…Ø§Ù†ÙŠØ© Ø¹Ø´Ø± ÙŠØ§ ØµØ¯ÙŠÙ‚ÙŠ
Ø«Ù„Ø§Ø«Ø© ÙÙŠ ØªØ³Ø¹Ø© = Ø³Ø¨Ø¹Ø© ÙˆØ¹Ø´Ø±ÙŠÙ† Ø±Ø§Ø¦Ø¹ÙŠÙ†
Ø§Ø¬Ù…Ø¹ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø¯Ø§ÙŠÙ…Ø§Ù‹
ÙˆØ§Ù„Ù†Ø§ØªØ¬ ÙŠØ·Ù„Ø¹ ØªØ³Ø¹Ø© Ù…Ø¶Ù…ÙˆÙ†! ğŸ¶`,
                    examples: [
                        { emoji: 'âœ¨', count: 9, equation: '1 Ã— 9 = 9', title: 'Magic Wands' },
                        { emoji: 'ğŸ§™', count: 9, equation: '1 Ã— 9 = 9', title: 'Nine Wizards' },
                        { emoji: 'ğŸ“š', count: 9, equation: '1 Ã— 9 = 9', title: 'Magic Books' },
                        { emoji: 'ğŸ”®', count: 18, equation: '2 Ã— 9 = 18', title: 'Crystal Balls' }
                    ],
                    tricks: [
                        'ğŸ”¢ Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… = 9',
                        'âœ‹ Ø­ÙŠÙ„Ø© Ø§Ù„Ø£ØµØ§Ø¨Ø¹',
                        'ğŸ§™â€â™‚ï¸ Ø§Ù„Ø³Ø­Ø± ÙÙŠ Ø§Ù„ØªØ³Ø¹Ø©',
                        'ğŸ¯ 10 - 1 = 9'
                    ]
                },
                10: {
                    story: `ÙÙŠ Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„ÙƒÙ…Ø§Ù„ØŒ Ø¹Ø§Ø´ Ø¨Ø·Ù„ Ø§Ø³Ù…Ù‡ "Ø¹Ø´Ø±ÙŠ" ğŸ†<br>
                    ÙƒØ§Ù† Ø±Ù‚Ù… 10 Ù‡Ùˆ Ø±Ù‚Ù… Ø§Ù„ÙƒÙ…Ø§Ù„ ÙˆØ§Ù„ØªÙ…Ø§Ù…! â­<br>
                    Ø¹Ù†Ø¯Ù‡ 10 Ø£ØµØ§Ø¨Ø¹ ÙÙŠ ÙŠØ¯ÙŠÙ‡ ğŸ™Œ<br>
                    Ùˆ10 Ø£ØµØ§Ø¨Ø¹ ÙÙŠ Ù‚Ø¯Ù…ÙŠÙ‡ ğŸ‘£<br>
                    ÙˆØ§Ù„Ø¬Ù…ÙŠØ¹ ÙŠØ­Ø¨ÙˆÙ†Ù‡ Ù„Ø£Ù†Ù‡ Ø§Ù„Ø£Ø³Ù‡Ù„! ğŸ¯<br><br>
                    <span class="story-highlight">Ø§Ù„Ø³Ø± Ø§Ù„Ø£Ø¹Ø¸Ù…:</span><br>
                    ÙÙ‚Ø· Ø£Ø¶Ù ØµÙØ± Ù„Ù„Ø±Ù‚Ù…! ğŸš€<br>
                    5 Ã— 10 = 50 (5 + 0)<br>
                    7 Ã— 10 = 70 (7 + 0)<br><br>
                    Ø£Ø³Ù‡Ù„ Ø¬Ø¯ÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø·Ù„Ø§Ù‚! ğŸŒŸâœ¨ğŸ†`,
                    song: `ğŸµ Ø¹Ø´Ø±ÙŠ Ø¨Ø·Ù„ Ø§Ù„Ø£Ø¨Ø·Ø§Ù„ ğŸµ
ÙˆØ§Ø­Ø¯ ÙÙŠ Ø¹Ø´Ø±Ø© = Ø¹Ø´Ø±Ø© ÙŠØ§ Ø£Ø¨Ø·Ø§Ù„
Ø§Ø«Ù†ÙŠÙ† ÙÙŠ Ø¹Ø´Ø±Ø© = Ø¹Ø´Ø±ÙŠÙ† ÙŠØ§ Ø£Ø·ÙØ§Ù„
Ø«Ù„Ø§Ø«Ø© ÙÙŠ Ø¹Ø´Ø±Ø© = Ø«Ù„Ø§Ø«ÙŠÙ† Ø­Ù„ÙˆÙŠÙ†
Ø£Ø±Ø¨Ø¹Ø© ÙÙŠ Ø¹Ø´Ø±Ø© = Ø£Ø±Ø¨Ø¹ÙŠÙ† Ø±Ø§Ø¦Ø¹ÙŠÙ†
Ø­Ø· ØµÙØ± Ø¬Ù†Ø¨ Ø§Ù„Ø±Ù‚Ù…
ÙˆØ§Ù„Ù†Ø§ØªØ¬ ÙŠØ·Ù„Ø¹ Ø¨Ø³Ù‡ÙˆÙ„Ø©! ğŸ¶`,
                    examples: [
                        { emoji: 'ğŸ™Œ', count: 10, equation: '1 Ã— 10 = 10', title: 'Ten Fingers' },
                        { emoji: 'ğŸ‘£', count: 10, equation: '1 Ã— 10 = 10', title: 'Ten Toes' },
                        { emoji: 'ğŸ†', count: 10, equation: '1 Ã— 10 = 10', title: 'Perfect Ten' },
                        { emoji: 'â­', count: 20, equation: '2 Ã— 10 = 20', title: 'Twenty Stars' }
                    ],
                    tricks: [
                        '0ï¸âƒ£ ÙÙ‚Ø· Ø£Ø¶Ù ØµÙØ±!',
                        'ğŸ™Œ Ø¹Ø¯ Ø¹Ù„Ù‰ Ø£ØµØ§Ø¨Ø¹Ùƒ',
                        'ğŸ† Ø±Ù‚Ù… Ø§Ù„ÙƒÙ…Ø§Ù„',
                        'ğŸ¯ Ø§Ù„Ø£Ø³Ù‡Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø·Ù„Ø§Ù‚'
                    ]
                }
            };

            const data = stories[num];
            if (!data) return `<p>Ù…Ø­ØªÙˆÙ‰ Ù‚ÙŠØ¯ Ø§Ù„ØªØ·ÙˆÙŠØ±...</p>`;

            let html = `
                <div class="section">
                    <h2 class="section-title">ğŸ“– Ø§Ù„Ù‚ØµØ© | The Story</h2>
                    <div class="story-box">${data.story}</div>
                </div>

                <div class="section">
                    <h2 class="section-title">ğŸµ Ø§Ù„Ø£ØºÙ†ÙŠØ© | The Song</h2>
                    <div class="song-box">
                        <div class="song-title">ğŸ¤ ØºÙ†ÙŠ Ù…Ø¹Ù†Ø§!</div>
                        <button class="play-song-btn" onclick="playSong(${num}, this)">
                            <span>â–¶ï¸</span>
                            <span>Ø´ØºÙ„ Ø§Ù„Ø£ØºÙ†ÙŠØ© | Play Song</span>
                        </button>
                        <div class="lyrics-container" id="lyrics-${num}">
                            ${formatLyrics(num)}
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2 class="section-title">ğŸ‘€ Ø£Ù…Ø«Ù„Ø© Ø¨ØµØ±ÙŠØ© | Visual Examples</h2>
                    <div class="visual-example">
            `;

            data.examples.forEach(ex => {
                const emojis = Array(ex.count).fill(ex.emoji).join('');
                html += `
                    <div class="example-group">
                        <div class="example-title">${ex.title}</div>
                        <div class="emoji-item">${emojis}</div>
                        <div class="equation">${ex.equation}</div>
                    </div>
                `;
            });

            html += `
                    </div>
                </div>

                <div class="section">
                    <h2 class="section-title">ğŸ¯ ØªØ¯Ø±Ø¨ Ø§Ù„Ø¢Ù† | Practice Now</h2>
                    <div class="practice-grid">
            `;

            for (let i = 1; i <= 10; i++) {
                html += `<div class="practice-item">${i} Ã— ${num} = ${i * num}</div>`;
            }

            html += `
                    </div>
                </div>

                <div class="section">
                    <h2 class="section-title">ğŸ’¡ Ø­ÙŠÙ„ Ø°ÙƒÙŠØ© | Smart Tricks</h2>
                    <ul class="tips-list">
            `;

            data.tricks.forEach(trick => {
                html += `<li>${trick}</li>`;
            });

            html += `
                    </ul>
                </div>

                <div class="section">
                    <button class="action-btn" onclick="startQuiz(${num})" style="width: 100%; font-size: 2rem; padding: 30px;">
                        ğŸ¯ Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¢Ù†! | Start Quiz Now! ğŸš€
                    </button>
                </div>
            `;

            return html;
        }

        // ==================== QUIZ ====================
        function startQuiz(tableNum) {
            gameState.selectedTable = tableNum;
            gameState.currentQuestion = 0;
            gameState.quizStars = 0;
            gameState.quizAnswers = [];
            
            showScreen('quizScreen');
            showNextQuestion();
        }

        function showNextQuestion() {
            if (gameState.currentQuestion >= 10) {
                completeQuiz();
                return;
            }

            gameState.currentQuestion++;
            
            document.getElementById('currentQuestion').textContent = gameState.currentQuestion;
            document.getElementById('totalQuestions').textContent = '10';
            document.getElementById('quizStarsDisplay').textContent = 'â­ ' + gameState.quizStars;
            
            const num1 = gameState.currentQuestion;
            const num2 = gameState.selectedTable;
            const correctAnswer = num1 * num2;
            
            const wrongAnswers = generateWrongAnswers(correctAnswer);
            const allAnswers = [correctAnswer, ...wrongAnswers].sort(() => Math.random() - 0.5);
            
            document.getElementById('questionText').textContent = `${num1} Ã— ${num2} = ØŸ`;
            document.getElementById('feedback').textContent = '';
            
            const answersGrid = document.getElementById('answersGrid');
            answersGrid.innerHTML = '';
            
            allAnswers.forEach(answer => {
                const btn = document.createElement('button');
                btn.className = 'answer-btn';
                btn.textContent = answer;
                btn.onclick = () => checkAnswer(answer, correctAnswer, btn);
                answersGrid.appendChild(btn);
            });
        }

        function generateWrongAnswers(correct) {
            const wrongs = new Set();
            while (wrongs.size < 3) {
                const offset = Math.floor(Math.random() * 20) - 10;
                const wrong = correct + offset;
                if (wrong !== correct && wrong > 0) {
                    wrongs.add(wrong);
                }
            }
            return Array.from(wrongs);
        }

        function checkAnswer(selected, correct, btn) {
            const buttons = document.querySelectorAll('.answer-btn');
            buttons.forEach(b => b.disabled = true);
            
            const feedback = document.getElementById('feedback');
            
            if (selected === correct) {
                btn.classList.add('correct');
                feedback.textContent = 'âœ… Ø±Ø§Ø¦Ø¹ | Great!';
                feedback.style.color = 'var(--success)';
                gameState.quizStars++;
                gameState.totalStars++;
                
                saveUserData();
                
                setTimeout(() => {
                    showNextQuestion();
                }, 1500);
            } else {
                btn.classList.add('wrong');
                feedback.textContent = 'âŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ | Try Again';
                feedback.style.color = '#ff3b30';
                
                buttons.forEach(b => {
                    if (parseInt(b.textContent) === correct) {
                        b.classList.add('correct');
                    }
                });
                
                setTimeout(() => {
                    showNextQuestion();
                }, 1500);
            }

            updateDisplay();
        }

        function completeQuiz() {
            const nextTable = gameState.selectedTable + 1;
            if (nextTable <= 10 && !gameState.unlockedTables.includes(nextTable)) {
                gameState.unlockedTables.push(nextTable);
            }

            if (gameState.selectedTable >= gameState.currentLevel) {
                gameState.currentLevel = gameState.selectedTable + 1;
            }

            saveUserData().then(() => {
                updateDisplay();
                
                const modal = document.getElementById('celebrationModal');
                const message = document.getElementById('celebrationMessage');
                
                if (gameState.quizStars === 10) {
                    message.innerHTML = `
                        ğŸ‰ Ù…Ø°Ù‡Ù„! Amazing!<br>
                        Ø­ØµÙ„Øª Ø¹Ù„Ù‰ 10/10 Ù†Ø¬Ù…Ø§Øª! â­â­â­â­â­<br>
                        <span style="font-size: 2rem;">Ø£Ù†Øª Ø¨Ø·Ù„ Ø­Ù‚ÙŠÙ‚ÙŠ! ğŸ†</span>
                    `;
                } else if (gameState.quizStars >= 7) {
                    message.innerHTML = `
                        ğŸ‘ Ù…Ù…ØªØ§Ø²! Excellent!<br>
                        Ø­ØµÙ„Øª Ø¹Ù„Ù‰ ${gameState.quizStars}/10 Ù†Ø¬Ù…Ø§Øª! â­<br>
                        Ø§Ø³ØªÙ…Ø±! Keep Going! ğŸ’ª
                    `;
                } else {
                    message.innerHTML = `
                        ğŸ’ª Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰! Try Again!<br>
                        Ø­ØµÙ„Øª Ø¹Ù„Ù‰ ${gameState.quizStars}/10 Ù†Ø¬Ù…Ø§Øª<br>
                        Ù„Ø§ ØªØ³ØªØ³Ù„Ù…! Never Give Up! ğŸŒŸ
                    `;
                }

                modal.classList.add('active');
                createConfetti();
            });
        }

        function closeCelebration() {
            document.getElementById('celebrationModal').classList.remove('active');
            backToMenu();
        }

        function createConfetti() {
            const emojis = ['â­', 'ğŸ‰', 'âœ¨', 'ğŸŒŸ', 'ğŸ’«', 'ğŸŠ', 'ğŸ†', 'ğŸ¯'];
            for (let i = 0; i < 30; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'particle';
                confetti.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                confetti.style.left = Math.random() * window.innerWidth + 'px';
                confetti.style.top = Math.random() * window.innerHeight + 'px';
                confetti.style.fontSize = (Math.random() * 2 + 1) + 'rem';
                document.body.appendChild(confetti);
                setTimeout(() => confetti.remove(), 4000);
            }
        }

        // ==================== LEADERBOARD ====================
        async function showLeaderboard() {
            const modal = document.getElementById('leaderboardModal');
            const list = document.getElementById('leaderboardList');
            const loading = document.getElementById('leaderboardLoading');

            modal.classList.add('active');
            list.innerHTML = '';
            loading.style.display = 'block';

            try {
                const snapshot = await database.ref('users')
                    .orderByChild('totalStars')
                    .limitToLast(50)
                    .once('value');

                const users = [];
                snapshot.forEach(child => {
                    const data = child.val();
                    if (data && data.totalStars !== undefined) {
                        users.push({
                            uid: child.key,
                            name: data.name || data.email.split('@')[0],
                            email: data.email,
                            totalStars: data.totalStars || 0,
                            currentLevel: data.currentLevel || 1
                        });
                    }
                });

                users.sort((a, b) => b.totalStars - a.totalStars);
                loading.style.display = 'none';

                if (users.length === 0) {
                    list.innerHTML = '<p style="text-align: center; padding: 20px;">No data yet</p>';
                    return;
                }

                users.forEach((user, index) => {
                    const rank = index + 1;
                    const isMe = currentUser && user.uid === currentUser.uid;
                    
                    const li = document.createElement('li');
                    li.className = 'leaderboard-item';
                    if (isMe) {
                        li.style.borderColor = 'var(--success)';
                        li.style.boxShadow = '0 0 30px rgba(38, 222, 129, 0.6)';
                    }

                    let badge = rank;
                    if (rank === 1) badge = 'ğŸ¥‡';
                    else if (rank === 2) badge = 'ğŸ¥ˆ';
                    else if (rank === 3) badge = 'ğŸ¥‰';

                    li.innerHTML = `
                        <div class="rank-badge">${badge}</div>
                        <div class="player-info">
                            <div class="player-name">${user.name}${isMe ? ' (You)' : ''}</div>
                            <div class="player-email">${user.email}</div>
                        </div>
                        <div class="player-score">
                            <div class="score-stars">â­ ${user.totalStars}</div>
                            <div class="score-level">Level ${user.currentLevel}</div>
                        </div>
                    `;

                    list.appendChild(li);
                });

            } catch (error) {
                console.error('Leaderboard error:', error);
                loading.style.display = 'none';
                list.innerHTML = '<p style="text-align: center; color: #ff3b30;">Error loading data</p>';
            }
        }

        function closeLeaderboard() {
            document.getElementById('leaderboardModal').classList.remove('active');
        }

        // ==================== MUSIC ====================
        let backgroundMusic = null;
        let isMusicPlaying = false;

        function initMusic() {
            backgroundMusic = document.getElementById('backgroundMusic');
            document.getElementById('musicControl').style.display = 'flex';
        }

        function toggleMusic() {
            if (!backgroundMusic) return;
            
            if (isMusicPlaying) {
                backgroundMusic.pause();
                document.getElementById('musicIcon').textContent = 'ğŸ”‡';
                document.getElementById('musicLabel').textContent = 'Music Off';
            } else {
                backgroundMusic.play().catch(e => console.log('Music prevented'));
                document.getElementById('musicIcon').textContent = 'ğŸ”Š';
                document.getElementById('musicLabel').textContent = 'Music On';
            }
            isMusicPlaying = !isMusicPlaying;
        }

        function changeTableMusic(tableNumber) {
            if (!backgroundMusic) return;
            
            const musicUrls = {
                1: 'https://cdn.pixabay.com/audio/2022/03/15/audio_4e3f960fa2.mp3',
                2: 'https://cdn.pixabay.com/audio/2022/03/10/audio_d0e7516331.mp3',
                3: 'https://cdn.pixabay.com/audio/2022/05/27/audio_1808fbf07a.mp3',
                4: 'https://cdn.pixabay.com/audio/2021/08/04/audio_0625c1539c.mp3',
                5: 'https://cdn.pixabay.com/audio/2022/03/22/audio_2f7a31a8dc.mp3',
                6: 'https://cdn.pixabay.com/audio/2022/08/02/audio_884fe92c21.mp3',
                7: 'https://cdn.pixabay.com/audio/2022/03/10/audio_29e5d8e9cd.mp3',
                8: 'https://cdn.pixabay.com/audio/2022/01/18/audio_c6b4c9ce3e.mp3',
                9: 'https://cdn.pixabay.com/audio/2022/11/22/audio_03c494b9ac.mp3',
                10: 'https://cdn.pixabay.com/audio/2022/10/25/audio_3648548947.mp3'
            };
            
            if (musicUrls[tableNumber]) {
                const wasPlaying = !backgroundMusic.paused;
                backgroundMusic.src = musicUrls[tableNumber];
                if (wasPlaying && isMusicPlaying) {
                    backgroundMusic.play().catch(e => console.log('Music error'));
                }
            }
        }

        // ==================== SONG PLAYER ====================
        let currentSongAudio = null;

        function playSong(tableNum, btn) {
            const songUrls = {
                1: 'table-1.mp3',
                2: 'table-2.mp3',
                3: 'table-3.mp3',
                4: 'table-4.mp3',
                5: 'table-5.mp3',
                6: 'table-6.mp3',
                7: 'table-7.mp3',
                8: 'table-8.mp3',
                9: 'table-9.mp3',
                10: 'table-10.mp3'
            };

            const lyricsContainer = document.getElementById(`lyrics-${tableNum}`);
            
            // Toggle lyrics display
            if (lyricsContainer.classList.contains('show')) {
                lyricsContainer.classList.remove('show');
                if (currentSongAudio) {
                    currentSongAudio.pause();
                    currentSongAudio = null;
                    btn.classList.remove('playing');
                    btn.innerHTML = '<span>â–¶ï¸</span><span>Ø´ØºÙ„ Ø§Ù„Ø£ØºÙ†ÙŠØ© | Play Song</span>';
                }
                return;
            }

            // Show lyrics
            lyricsContainer.classList.add('show');
            
            // Play song
            if (currentSongAudio) {
                currentSongAudio.pause();
            }
            
            currentSongAudio = new Audio(songUrls[tableNum]);
            currentSongAudio.play().catch(e => {
                console.log('Song play prevented:', e);
                alert('Ù…Ù…ÙƒÙ† ØªØ¶ØºØ· Ù…Ø±Ø© ØªØ§Ù†ÙŠØ© Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£ØºÙ†ÙŠØ©');
            });
            
            btn.classList.add('playing');
            btn.innerHTML = '<span>â¸ï¸</span><span>ÙˆÙ‚Ù Ø§Ù„Ø£ØºÙ†ÙŠØ© | Pause Song</span>';
            
            currentSongAudio.onended = () => {
                btn.classList.remove('playing');
                btn.innerHTML = '<span>â–¶ï¸</span><span>Ø´ØºÙ„ Ø§Ù„Ø£ØºÙ†ÙŠØ© | Play Song</span>';
            };
        }

        function formatLyrics(tableNum) {
            const allLyrics = {
                1: [
                    { title: 'Verse 1', lines: [
                        'Ø£Ù†Ø§ ÙˆØ§Ø­Ø¯ Ø§Ù„Ø³Ø§Ø­Ø± Ø§Ù„Ù…Ù…ÙŠØ²',
                        'ÙˆØ§Ø­Ø¯ Ã— ÙˆØ§Ø­Ø¯ = ÙˆØ§Ø­Ø¯ Ù…Ø±ØªØ§Ø­',
                        'Ø§Ø«Ù†ÙŠÙ† Ã— ÙˆØ§Ø­Ø¯ = Ø§Ø«Ù†ÙŠÙ† ÙŠØ§ Ø¬Ù…Ø§Ø¹Ø©',
                        'Ø«Ù„Ø§Ø«Ø© Ã— ÙˆØ§Ø­Ø¯ = Ø«Ù„Ø§Ø«Ø© Ø¨Ø³ÙŠØ·Ø©',
                        'Ø§Ù„Ø±Ù‚Ù… ÙŠØ¨Ù‚Ù‰ Ø²ÙŠ Ù…Ø§ Ù‡Ùˆ',
                        'Ù…Ø§ ÙŠØªØºÙŠØ±Ø´ Ø£Ø¨Ø¯Ø§Ù‹ ÙŠØ§ Ø­Ù„Ùˆ!'
                    ]}
                ],
                2: [
                    { title: 'Verse 1', lines: [
                        'Ø£Ø±Ù†ÙˆØ¨ Ù„Ø§Ø¨Ø³ Ø¬Ø²Ù…Ø©.. Ø¨ØªØ¹Ù…Ù„ ØªÙŠÙƒ ØªÙŠÙƒ',
                        'Ø£ÙŠ Ø­Ø§Ø¬Ø© Ø¨ÙŠØ´ÙˆÙÙ‡Ø§.. Ø¨ØªØ¨Ù‚Ù‰ Ø¯ÙˆØ¨Ù„ ÙˆØ´ÙŠÙƒ',
                        'Ù…Ø§Ø´ÙŠ Ù„ÙˆØ­Ø¯Ù‡ Ø´Ø§Ù Ø´Ø¬Ø±Ø©.. Ø®Ø¨Ø·Ù‡Ø§ Ø¨Ù‚ÙˆØ§ Ø§ØªÙ†ÙŠÙ†',
                        'ÙˆØ§Ø­Ø¯ ÙÙŠ Ø§ØªÙ†ÙŠÙ† Ø¨Ø§ØªÙ†ÙŠÙ†.. Ø­Ù„ÙˆÙŠÙ† ÙˆØ·Ø¹Ù…ÙŠÙ†'
                    ]},
                    { title: 'Chorus', lines: [
                        'One times Two is Two (2Ã—1=2)',
                        'Two times Two is Four (2Ã—2=4)',
                        'ÙŠÙ„Ø§ Ù†Ø²ÙˆØ¯ Ø£ÙƒØªØ± (More and More)',
                        'ØªÙ„Ø§ØªØ© ÙÙŠ Ø§ØªÙ†ÙŠÙ† Ø¨Ø³ØªØ© (That\'s Six!)',
                        'Ø£Ø±Ø¨Ø¹Ø© ÙÙŠ Ø§ØªÙ†ÙŠÙ† Ø¨ØªÙ…Ø§Ù†ÙŠØ© (That\'s Eight!)',
                        'Ø®Ù…Ø³Ø© ÙÙŠ Ø§ØªÙ†ÙŠÙ† Ø¨Ø¹Ø´Ø±Ø© (Ten is great!)'
                    ]},
                    { title: 'Verse 2', lines: [
                        'Rabbit has magic shoes, walking down the street',
                        'Every step he takes, the numbers double and meet!',
                        'Six times Two is Twelve',
                        'Seven times Two Fourteen',
                        'Eight times Two Sixteen.. The best you\'ve ever seen!',
                        'ØªØ³Ø¹Ø© ÙÙŠ Ø§ØªÙ†ÙŠÙ† ØªÙ…Ù†ØªØ§Ø´Ø±.. Ø¹Ø´Ø±Ø© ÙÙŠ Ø§ØªÙ†ÙŠÙ† Ø¹Ø´Ø±ÙŠÙ†!'
                    ]}
                ],
                3: [
                    { title: 'Verse 1', lines: [
                        'Ø¥Ø´Ø§Ø±Ø© Ù…Ø±ÙˆØ± ÙˆØ§Ù‚ÙØ©.. ÙÙŠÙ‡Ø§ ØªÙ„Ø§Øª Ø¹ÙŠÙˆÙ†',
                        'ÙƒÙ„ Ø¹Ø±Ø¨ÙŠØ© ØªØ¹Ø¯ÙŠ.. ØªØ¯ÙØ¹ ØªÙ„Ø§ØªØ© ÙˆØªØ®ÙˆÙ†',
                        'Ø¹Ø±Ø¨ÙŠØ© ÙˆØ§Ø­Ø¯Ø© Ø¹Ø¯Øª.. Ø¯ÙØ¹Øª ØªÙ„Ø§ØªØ© ÙƒØ§Ø´',
                        'Ø¹Ø±Ø¨ÙŠØªÙŠÙ† ÙŠØ§ ØµØ§Ø­Ø¨ÙŠ.. Ø³ØªØ© ÙˆÙ…Ø§ Ø¨Ø¨Ù„Ø§Ø´'
                    ]},
                    { title: 'Chorus', lines: [
                        'Three times One is Three (3Ã—1=3)',
                        'Three times Two is Six (3Ã—2=6)',
                        'ØªÙ„Ø§Øª Ø¹Ø±Ø¨ÙŠØ§Øª.. Ø¨Ù‚ÙˆØ§ ØªØ³Ø¹Ø© ÙÙŠ Ø§Ù„Ø²Ø­Ù…Ø© (That\'s Nine!)',
                        'Ø£Ø±Ø¨Ø¹ Ø¹Ø±Ø¨ÙŠØ§Øª.. Ø§ØªÙ†Ø§Ø´Ø± Ø¯ÙŠ Ø§Ù„Ù„Ø­Ù…Ø© (That\'s Twelve!)',
                        'Ø®Ù…Ø³Ø© ÙÙŠ ØªÙ„Ø§ØªØ© Ø®Ù…Ø³ØªØ§Ø´Ø±.. ÙƒÙ…Ù„ ÙŠØ§ Ø¨Ø·Ù„ (Fifteen!)'
                    ]},
                    { title: 'Verse 2', lines: [
                        'Traffic light is blinkin\', asking for the fee',
                        'Every car pays three coins, listen to me!',
                        'Six cars paying Eighteen (6Ã—3=18)',
                        'Seven cars paying Twenty-One (7Ã—3=21)',
                        'Eight cars Twenty-Four.. we having fun!',
                        'ØªØ³Ø¹Ø© ÙÙŠ ØªÙ„Ø§ØªØ© Ø³Ø¨Ø¹Ø© ÙˆØ¹Ø´Ø±ÙŠÙ†.. Ø¹Ø´Ø±Ø© ÙÙŠ ØªÙ„Ø§ØªØ© ØªÙ„Ø§ØªÙŠÙ†!'
                    ]}
                ],
                4: [
                    { title: 'Verse 1', lines: [
                        'Ø¹Ø±Ø¨ÙŠØªÙŠ Ø§Ù„Ø¬ÙŠØ¨ Ù‚ÙˆÙŠØ©.. Ø¨ØªÙ…Ø´ÙŠ Ø¨Ø£Ø±Ø¨Ø¹ Ø¹Ø¬Ù„Ø§Øª',
                        'Ø¨ØªØ³Ø§ÙØ± ÙƒÙ„ Ø§Ù„Ø¯Ù†ÙŠØ§.. ÙˆØªØ¹Ø¯ÙŠ Ø§Ù„Ù…Ø­Ø·Ø§Øª',
                        'Ù…Ø´ÙˆØ§Ø± ÙˆØ§Ø­Ø¯ Ø±Ø­Ù†Ø§.. Ø¨Ø£Ø±Ø¨Ø¹ Ø¹Ø¬Ù„Ø§Øª Ø¬Ø¯Ø§Ø¯',
                        'Ù…Ø´ÙˆØ§Ø±ÙŠÙ† ÙŠØ§ ÙƒØ§Ø¨ØªÙ†.. Ø¨Ù‚ÙˆØ§ ØªÙ…Ø§Ù†ÙŠØ© ÙŠØ§ Ø³Ø¯Ø§Ø¯'
                    ]},
                    { title: 'Chorus', lines: [
                        'Four times One is Four (4Ã—1=4)',
                        'Four times Two is Eight (4Ã—2=8)',
                        'ØªÙ„Ø§ØªØ© ÙÙŠ Ø£Ø±Ø¨Ø¹Ø©.. Ø§ØªÙ†Ø§Ø´Ø± ÙŠØ§ ÙˆØ§Ø¯ ÙŠØ§ ØªÙŠØª (Twelve!)',
                        'Ø£Ø±Ø¨Ø¹Ø© ÙÙŠ Ø£Ø±Ø¨Ø¹Ø©.. Ø³ØªØ§Ø´Ø± ÙŠØ§ Ø¹ÙØ±ÙŠØª (Sixteen!)',
                        'Ø®Ù…Ø³Ø© ÙÙŠ Ø£Ø±Ø¨Ø¹Ø©.. Ø¹Ø´Ø±ÙŠÙ† Ø¹ Ø§Ù„Ø³Ù„Ù… (Twenty!)'
                    ]},
                    { title: 'Verse 2', lines: [
                        'My Jeep is super strong, four wheels on the ground',
                        'Driving through the numbers, making a loud sound',
                        'Six times Four is Twenty-Four',
                        'Seven times Four Twenty-Eight',
                        'Eight times Four Thirty-Two.. Don\'t be late!',
                        'ØªØ³Ø¹Ø© ÙÙŠ Ø£Ø±Ø¨Ø¹Ø© Ø³ØªØ© ÙˆØªÙ„Ø§ØªÙŠÙ†.. Ø¹Ø´Ø±Ø© ÙÙŠ Ø£Ø±Ø¨Ø¹Ø© Ø£Ø±Ø¨Ø¹ÙŠÙ†!'
                    ]}
                ],
                5: [
                    { title: 'Verse 1', lines: [
                        'ÙƒØ§Ø¨ØªÙ† Ø®Ù…Ø³Ø© ÙˆØµÙ„.. Ø§Ø±ÙØ¹ Ø§ÙŠØ¯Ùƒ ÙÙˆÙ‚',
                        'Ø¨ÙŠØ³Ù„Ù… Ø¹ Ø§Ù„Ø­Ø¨Ø§ÙŠØ¨.. ÙˆÙƒÙ„Ù‡ ÙŠØ¯ÙˆÙ‚ Ø§Ù„Ø´ÙˆÙ‚',
                        'Ø³Ù„Ù… Ø¹Ù„Ù‰ ÙˆØ§Ø­Ø¯.. Ø§Ø¯Ø§Ù„Ù‡ Ø®Ù…Ø³Ø© Ø·Ø§Ù‚Ø©',
                        'Ø³Ù„Ù… Ø¹Ù„Ù‰ Ø§ØªÙ†ÙŠÙ†.. Ø¨Ù‚ÙˆØ§ Ø¹Ø´Ø±Ø© Ø¨Ø´ÙŠØ§ÙƒØ©'
                    ]},
                    { title: 'Chorus', lines: [
                        'Five times One is Five (5Ã—1=5)',
                        'Five times Two is Ten (5Ã—2=10)',
                        'ØªÙ„Ø§ØªØ© ÙÙŠ Ø®Ù…Ø³Ø© Ø®Ù…Ø³ØªØ§Ø´Ø±.. ÙŠÙ„Ø§ ÙƒÙ…Ø§Ù† (Fifteen!)',
                        'Ø£Ø±Ø¨Ø¹Ø© ÙÙŠ Ø®Ù…Ø³Ø© Ø¹Ø´Ø±ÙŠÙ†.. Ø±ÙƒØ² ÙŠØ§ Ù…Ø§Ù† (Twenty!)',
                        'Ø®Ù…Ø³Ø© ÙÙŠ Ø®Ù…Ø³Ø©.. Ø®Ù…Ø³Ø© ÙˆØ¹Ø´Ø±ÙŠÙ† (Twenty-Five!)'
                    ]},
                    { title: 'Verse 2', lines: [
                        'Captain Five is here, giving High-Fives all day',
                        'Every touch adds five, hip-hip-hooray!',
                        'Six times Five is Thirty (6Ã—5=30)',
                        'Seven times Five Thirty-Five (7Ã—5=35)',
                        'Eight times Five Forty.. We are alive!',
                        'ØªØ³Ø¹Ø© ÙÙŠ Ø®Ù…Ø³Ø© Ø®Ù…Ø³Ø© ÙˆØ£Ø±Ø¨Ø¹ÙŠÙ†.. Ø¹Ø´Ø±Ø© ÙÙŠ Ø®Ù…Ø³Ø© Ø®Ù…Ø³ÙŠÙ†!'
                    ]}
                ],
                6: [
                    { title: 'Verse 1', lines: [
                        'Ø§Ù„Ù†Ø­Ù„Ø© Ø³ØªØ© Ø¨ØªÙ„Ù.. ÙˆØªØ¹Ù…Ù„ Ø´ÙƒÙ„ Ø³Ø¯Ø§Ø³ÙŠ',
                        'Ø¨Ø³Øª Ø±Ø¬Ù„ÙŠÙ† Ø¨ØªÙ…Ø´ÙŠ.. ÙˆØ¨ØªØ¹Ø¨ÙŠ Ø§Ù„ÙƒØ±Ø§Ø³ÙŠ',
                        'Ø±Ø§Ø­Øª Ù„ÙˆØ±Ø¯Ø© ÙˆØ§Ø­Ø¯Ø©.. Ø³ØªØ© Ù†Ù‚Ø· Ø¹Ø³Ù„',
                        'Ø±Ø§Ø­Øª Ù„ÙˆØ±Ø¯ØªÙŠÙ†.. Ø§ØªÙ†Ø§Ø´Ø± ÙŠØ§ Ø¨Ø·Ù„'
                    ]},
                    { title: 'Chorus', lines: [
                        'Six times One is Six (6Ã—1=6)',
                        'Six times Two is Twelve (6Ã—2=12)',
                        'ØªÙ„Ø§ØªØ© ÙÙŠ Ø³ØªØ©.. ØªÙ…Ù†ØªØ§Ø´Ø± ÙŠØ§ Ù†Ø­Ù„Ø© (Eighteen!)',
                        'Ø£Ø±Ø¨Ø¹Ø© ÙÙŠ Ø³ØªØ©.. Ø£Ø±Ø¨Ø¹Ø© ÙˆØ¹Ø´Ø±ÙŠÙ† Ø£Ø­Ù„Ù‰ (Twenty-Four!)',
                        'Ø®Ù…Ø³Ø© ÙÙŠ Ø³ØªØ©.. ØªÙ„Ø§ØªÙŠÙ† ÙÙŠ Ø§Ù„Ø³Ù„Ø© (Thirty!)'
                    ]},
                    { title: 'Verse 2', lines: [
                        'Busy Bee is flying, with six little legs',
                        'Collecting all the honey, filling up the kegs',
                        'Six times Six Thirty-Six (6Ã—6=36)',
                        'Seven times Six Forty-Two (7Ã—6=42)',
                        'Eight times Six Forty-Eight.. Look at you!',
                        'ØªØ³Ø¹Ø© ÙÙŠ Ø³ØªØ© Ø£Ø±Ø¨Ø¹Ø© ÙˆØ®Ù…Ø³ÙŠÙ†.. Ø¹Ø´Ø±Ø© ÙÙŠ Ø³ØªØ© Ø³ØªÙŠÙ†!'
                    ]}
                ],
                7: [
                    { title: 'Verse 1', lines: [
                        'Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø³Ø¨Ø¹ Ø£ÙŠØ§Ù….. ÙˆØ§Ù„Ø³Ù†ÙÙˆØ± Ø¨ÙŠØ¹Ø¯',
                        'Ø¨ÙŠØ®Ù„Øµ ÙƒÙ„ Ø´ØºÙ„Ù‡.. ÙÙŠ Ø§Ù„Ù…ÙŠØ¹Ø§Ø¯ ÙˆØ§Ù„Ø¬Ø¯',
                        'Ø£Ø³Ø¨ÙˆØ¹ ÙˆØ§Ø­Ø¯ Ø¹Ø¯Ù‰.. Ø³Ø¨Ø¹ Ø£ÙŠØ§Ù… ÙØ§ØªÙˆØ§',
                        'Ø£Ø³Ø¨ÙˆØ¹ÙŠÙ† ÙŠØ§ Ø´Ø§Ø·Ø±.. Ø£Ø±Ø¨Ø¹ØªØ§Ø´Ø± ÙÙŠ Ø­ÙŠØ§ØªÙ‡'
                    ]},
                    { title: 'Chorus', lines: [
                        'Seven times One is Seven (7Ã—1=7)',
                        'Seven times Two is Fourteen (7Ã—2=14)',
                        'ØªÙ„Ø§ØªØ© ÙÙŠ Ø³Ø¨Ø¹Ø©.. ÙˆØ§Ø­Ø¯ ÙˆØ¹Ø´Ø±ÙŠÙ† (Twenty-One!)',
                        'Ø£Ø±Ø¨Ø¹Ø© ÙÙŠ Ø³Ø¨Ø¹Ø©.. ØªÙ…Ø§Ù†ÙŠØ© ÙˆØ¹Ø´Ø±ÙŠÙ† (Twenty-Eight!)',
                        'Ø®Ù…Ø³Ø© ÙÙŠ Ø³Ø¨Ø¹Ø©.. Ø®Ù…Ø³Ø© ÙˆØªÙ„Ø§ØªÙŠÙ† (Thirty-Five!)'
                    ]},
                    { title: 'Bridge', lines: [
                        'Weeks are flying by!',
                        'Ø³ØªØ© ÙÙŠ Ø³Ø¨Ø¹Ø©.. Ø§ØªÙ†ÙŠÙ† ÙˆØ£Ø±Ø¨Ø¹ÙŠÙ† (Forty-Two!)',
                        'Ø³Ø¨Ø¹Ø© ÙÙŠ Ø³Ø¨Ø¹Ø©.. ØªØ³Ø¹Ø© ÙˆØ£Ø±Ø¨Ø¹ÙŠÙ† (Forty-Nine!)',
                        'ØªÙ…Ø§Ù†ÙŠØ© ÙÙŠ Ø³Ø¨Ø¹Ø©.. Ø³ØªØ© ÙˆØ®Ù…Ø³ÙŠÙ† (Fifty-Six!)',
                        'ØªØ³Ø¹Ø© ÙÙŠ Ø³Ø¨Ø¹Ø© ØªÙ„Ø§ØªØ© ÙˆØ³ØªÙŠÙ†.. Ø¹Ø´Ø±Ø© ÙÙŠ Ø³Ø¨Ø¹Ø© Ø³Ø¨Ø¹ÙŠÙ†!'
                    ]}
                ],
                8: [
                    { title: 'Verse 1', lines: [
                        'Ø§Ù„Ø£Ø®Ø·Ø¨ÙˆØ· Ø£ÙˆÙƒØ§.. Ø¨ØªÙ…Ø§Ù† Ø§ÙŠØ¯ÙŠÙ† Ø¨ÙŠÙ„Ø¹Ø¨',
                        'Ø¨ÙŠÙ„Ù… ÙƒÙ†ÙˆØ² Ø§Ù„Ø¨Ø­Ø±.. ÙˆØ¹Ù…Ø±Ù‡ Ù…Ø§ Ø¨ÙŠØªØ¹Ø¨',
                        'Ù…Ø³Ùƒ ØµÙ†Ø¯ÙˆÙ‚ ÙˆØ§Ø­Ø¯.. Ø¨ØªÙ…Ø§Ù† Ø¯Ø±Ø§Ø¹Ø§Øª Ù…Ø§Ø³Ùƒ',
                        'Ù…Ø³Ùƒ ØµÙ†Ø¯ÙˆÙ‚ÙŠÙ†.. Ø³ØªØ§Ø´Ø± ÙŠØ§ Ù†Ø§Ø³Ùƒ'
                    ]},
                    { title: 'Chorus', lines: [
                        'Eight times One is Eight (8Ã—1=8)',
                        'Eight times Two is Sixteen (8Ã—2=16)',
                        'ØªÙ„Ø§ØªØ© ÙÙŠ ØªÙ…Ø§Ù†ÙŠØ©.. Ø£Ø±Ø¨Ø¹Ø© ÙˆØ¹Ø´Ø±ÙŠÙ† (Twenty-Four!)',
                        'Ø£Ø±Ø¨Ø¹Ø© ÙÙŠ ØªÙ…Ø§Ù†ÙŠØ©.. Ø§ØªÙ†ÙŠÙ† ÙˆØªÙ„Ø§ØªÙŠÙ† (Thirty-Two!)',
                        'Ø®Ù…Ø³Ø© ÙÙŠ ØªÙ…Ø§Ù†ÙŠØ©.. Ø£Ø±Ø¨Ø¹ÙŠÙ† Ø­ÙˆØª Ù…ØªÙŠÙ† (Forty!)'
                    ]},
                    { title: 'Verse 2', lines: [
                        'Oca has eight arms, grabbing everything he sees',
                        'Swimming in the ocean, flexible as a breeze',
                        'Six times Eight Forty-Eight (6Ã—8=48)',
                        'Seven times Eight Fifty-Six (7Ã—8=56)',
                        'Eight times Eight Sixty-Four.. Magic tricks!',
                        'ØªØ³Ø¹Ø© ÙÙŠ ØªÙ…Ø§Ù†ÙŠØ© Ø§ØªÙ†ÙŠÙ† ÙˆØ³Ø¨Ø¹ÙŠÙ†.. Ø¹Ø´Ø±Ø© ÙÙŠ ØªÙ…Ø§Ù†ÙŠØ© ÙˆØªÙ…Ø§Ù†ÙŠÙ†!'
                    ]}
                ],
                9: [
                    { title: 'Verse 1', lines: [
                        'ÙŠØ§ Ø¬Ø¯ÙˆÙ„ ØªØ³Ø¹Ø© ÙŠØ§ Ø³Ø­Ø±ÙŠ.. Ø¯Ù‡ Ù„Ø¹Ø¨ØªÙƒ Ù„Ø¹Ø¨Ø©',
                        'Ø¨ØªÙ†Ù‚Øµ ÙˆØ§Ø­Ø¯ Ø¯Ø§ÙŠÙ…Ø§Ù‹.. ÙˆØªØ²ÙˆØ¯ Ø¹Ø´Ø±Ø© ØµØ¹Ø¨Ø©',
                        'ÙˆØ§Ø­Ø¯ ÙÙŠ ØªØ³Ø¹Ø© Ø¨ØªØ³Ø¹Ø©.. ÙˆØ§Ù‚ÙØ© Ù„ÙˆØ­Ø¯Ù‡Ø§',
                        'Ø§ØªÙ†ÙŠÙ† ÙÙŠ ØªØ³Ø¹Ø© ØªÙ…Ù†ØªØ§Ø´Ø±.. Ø§Ù„Ø³Ù„Ù… Ø´Ø¯Ù‡Ø§'
                    ]},
                    { title: 'Chorus', lines: [
                        'Nine times One is Nine (9Ã—1=9)',
                        'Nine times Two is Eighteen (9Ã—2=18)',
                        'ØªÙ„Ø§ØªØ© ÙÙŠ ØªØ³Ø¹Ø©.. Ø³Ø¨Ø¹Ø© ÙˆØ¹Ø´Ø±ÙŠÙ† (Twenty-Seven!)',
                        'Ø£Ø±Ø¨Ø¹Ø© ÙÙŠ ØªØ³Ø¹Ø©.. Ø³ØªØ© ÙˆØªÙ„Ø§ØªÙŠÙ† (Thirty-Six!)',
                        'Ø®Ù…Ø³Ø© ÙÙŠ ØªØ³Ø¹Ø©.. Ø®Ù…Ø³Ø© ÙˆØ£Ø±Ø¨Ø¹ÙŠÙ† (Forty-Five!)'
                    ]},
                    { title: 'Verse 2', lines: [
                        'Climb the magic ladder, one step at a time',
                        'Every step you take, helps you solve the rhyme',
                        'Six times Nine Fifty-Four (6Ã—9=54)',
                        'Seven times Nine Sixty-Three (7Ã—9=63)',
                        'Eight times Nine Seventy-Two.. Look at me!',
                        'ØªØ³Ø¹Ø© ÙÙŠ ØªØ³Ø¹Ø© ÙˆØ§Ø­Ø¯ ÙˆØªÙ…Ø§Ù†ÙŠÙ†.. Ø¹Ø´Ø±Ø© ÙÙŠ ØªØ³Ø¹Ø© ØªØ³Ø¹ÙŠÙ†!'
                    ]}
                ],
                10: [
                    { title: 'Verse 1', lines: [
                        'Ø£Ù†Ø§ Ø§Ù„Ù…Ù„Ùƒ Ø¹Ø´Ø±Ø©.. ÙƒØ±ÙŠÙ… ÙˆØ¨Ø¯ÙŠ Ù‡Ø¯Ø§ÙŠØ§',
                        'Ø£ÙŠ Ø±Ù‚Ù… ÙŠØ¬ÙŠ Ø¹Ù†Ø¯ÙŠ.. ÙŠØ§Ø®Ø¯ ØµÙØ± ÙˆÙŠØ¨Ù‚Ù‰ Ù…Ø¹Ø§ÙŠØ§',
                        'Ø§Ù„ÙˆØ§Ø­Ø¯ Ø®Ø¯ ØµÙØ±.. Ø¨Ù‚Ù‰ Ø¹Ø´Ø±Ø© ÙÙŠ Ø§Ù„Ø­Ø§Ù„',
                        'Ø§Ù„Ø§ØªÙ†ÙŠÙ† Ø®Ø¯Øª ØµÙØ±.. Ø¹Ø´Ø±ÙŠÙ† ÙŠØ§ Ø¹ÙŠØ§Ù„'
                    ]},
                    { title: 'Chorus', lines: [
                        'Ten times One is Ten (10Ã—1=10)',
                        'Ten times Two is Twenty (10Ã—2=20)',
                        'ØªÙ„Ø§ØªØ© ÙÙŠ Ø¹Ø´Ø±Ø© ØªÙ„Ø§ØªÙŠÙ†.. (Thirty!)',
                        'Ø£Ø±Ø¨Ø¹Ø© ÙÙŠ Ø¹Ø´Ø±Ø© Ø£Ø±Ø¨Ø¹ÙŠÙ†.. (Forty!)',
                        'Ø®Ù…Ø³Ø© ÙÙŠ Ø¹Ø´Ø±Ø© Ø®Ù…Ø³ÙŠÙ†.. (Fifty!)'
                    ]},
                    { title: 'Verse 2', lines: [
                        'I am King Ten, giving zeros to the bold',
                        'Turning little numbers into stories to be told',
                        'Six is Sixty (60).. Seven is Seventy (70)',
                        'Eight is Eighty (80).. Nine is Ninety (90)',
                        'Ten times Ten is One Hundred! (100!)'
                    ]}
                ]
            };

            const lyrics = allLyrics[tableNum] || [];
            let html = '';
            
            lyrics.forEach(verse => {
                html += `<div class="lyrics-verse">`;
                html += `<div class="lyrics-verse-title">${verse.title}</div>`;
                verse.lines.forEach(line => {
                    html += `<div class="lyrics-line">${line}</div>`;
                });
                html += `</div>`;
            });
            
            return html;
        }

        // ==================== INIT ====================
        function init() {
            const container = document.getElementById('particlesContainer');
            const emojis = ['â­', 'âœ¨', 'ğŸŒŸ', 'ğŸ’«', 'ğŸ¯', 'ğŸ®', 'ğŸš€', 'ğŸ¨', 'ğŸ­', 'ğŸª'];
            
            for (let i = 0; i < 40; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 10 + 's';
                particle.style.fontSize = (Math.random() * 1.5 + 1) + 'rem';
                container.appendChild(particle);
            }
        }

        init();
        initMusic();
    </script>

    <!-- Music Control -->
    <div class="music-control" id="musicControl" onclick="toggleMusic()" style="display: none;">
        <div class="music-icon" id="musicIcon">ğŸ”Š</div>
        <div class="music-label" id="musicLabel">Music On</div>
    </div>

    <!-- Hidden Audio -->
    <audio id="backgroundMusic" loop>
        <source src="https://cdn.pixabay.com/audio/2022/03/15/audio_4e3f960fa2.mp3" type="audio/mpeg">
    </audio>

</body>
</html>
